(()=>{var e={};e.id=713,e.ids=[713],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},4300:e=>{"use strict";e.exports=require("buffer")},7147:e=>{"use strict";e.exports=require("fs")},2781:e=>{"use strict";e.exports=require("stream")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},4639:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>a.a,__next_app__:()=>f,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c}),t(5201),t(7889),t(9948);var n=t(1926),s=t(6546),i=t(8713),a=t.n(i),o=t(8606),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);t.d(r,l);let c=["",{children:["conference",{children:["register",{children:["success",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,5201)),"/Users/arbenlila/development/shfmk-association/apps/web/app/conference/register/success/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,7889)),"/Users/arbenlila/development/shfmk-association/apps/web/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9948,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/arbenlila/development/shfmk-association/apps/web/app/conference/register/success/page.tsx"],u="/conference/register/success/page",f={require:t,loadChunk:()=>Promise.resolve()},p=new n.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/conference/register/success/page",pathname:"/conference/register/success",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},7943:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,9800,23)),Promise.resolve().then(t.t.bind(t,9474,23)),Promise.resolve().then(t.t.bind(t,9884,23)),Promise.resolve().then(t.t.bind(t,33,23)),Promise.resolve().then(t.t.bind(t,5681,23)),Promise.resolve().then(t.t.bind(t,1616,23))},7094:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,4696,23)),Promise.resolve().then(t.t.bind(t,5565,23))},3060:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,5565,23)),Promise.resolve().then(t.bind(t,760)),Promise.resolve().then(t.bind(t,9423))},760:(e,r,t)=>{"use strict";t.d(r,{PrintButton:()=>i});var n=t(5542),s=t(9915);function i({disabled:e}){return n.jsx(s.z,{onClick:()=>window.print(),disabled:e,children:"Printo / Ruaj"})}},9423:(e,r,t)=>{"use strict";t.d(r,{ResendButton:()=>a});var n=t(5542),s=t(1320),i=t(9915);function a({registrationId:e}){let[r,t]=(0,s.useState)("idle"),[a,o]=(0,s.useState)(null),l=async()=>{try{t("sending"),o(null);let r=await fetch("/api/resend-public",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({registrationId:e})}),n=r.headers.get("content-type");if(!n?.includes("application/json"))throw Error("Serveri ktheu nj\xeb p\xebrgjigje t\xeb pavlefshme.");let s=await r.json();if(!r.ok)throw Error(s.error??"D\xebrgimi d\xebshtoi");t("success")}catch(e){t("error"),o(e.message)}};return"success"===r?n.jsx("p",{className:"text-sm text-green-600",children:"Emaili u rid\xebrgua me sukses!"}):(0,n.jsxs)(n.Fragment,{children:[n.jsx(i.z,{onClick:l,variant:"outline",disabled:"sending"===r,children:"sending"===r?"Duke d\xebrguar...":"D\xebrgo p\xebrs\xebri emailin"}),"error"===r&&(0,n.jsxs)("p",{className:"text-sm text-red-600 mt-2",children:["D\xebshtoi: ",a]})]})}},9915:(e,r,t)=>{"use strict";t.d(r,{z:()=>c});var n=t(5542),s=t(1320),i=t(5470),a=t(3854),o=t(9591);let l=(0,a.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef(({className:e,variant:r,size:t,asChild:s=!1,...a},c)=>{let d=s?i.g7:"button";return n.jsx(d,{className:(0,o.cn)(l({variant:r,size:t,className:e})),ref:c,...a})});c.displayName="Button"},9591:(e,r,t)=>{"use strict";t.d(r,{cn:()=>i});var n=t(5198),s=t(1947);function i(...e){return(0,s.m6)((0,n.W)(e))}},5201:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>b});var n=t(9038),s=t(7404),i=t(1109),a=t(6288),o=t(2071),l=t(4137),c=t(2060),d=t(1387);let u=(0,d.createProxy)(String.raw`/Users/arbenlila/development/shfmk-association/apps/web/app/conference/register/success/ResendButton.tsx`),{__esModule:f,$$typeof:p}=u;u.default;let m=(0,d.createProxy)(String.raw`/Users/arbenlila/development/shfmk-association/apps/web/app/conference/register/success/ResendButton.tsx#ResendButton`),h=(0,d.createProxy)(String.raw`/Users/arbenlila/development/shfmk-association/apps/web/app/conference/register/success/PrintButton.tsx`),{__esModule:g,$$typeof:x}=h;h.default;let v=(0,d.createProxy)(String.raw`/Users/arbenlila/development/shfmk-association/apps/web/app/conference/register/success/PrintButton.tsx#PrintButton`);async function b({searchParams:e}){let r=e.rid;if(!r)return n.jsx(y,{});let t=await (0,l.Xd)(r);if(!t)return n.jsx(y,{message:"Regjistrimi me k\xebt\xeb ID nuk u gjet."});let s=await (0,c.s)(t.qr_token);return n.jsx("div",{className:"container mx-auto px-4 py-12",children:(0,n.jsxs)(o.Zb,{className:"mx-auto max-w-lg text-center",children:[n.jsx(o.Ol,{children:n.jsx(o.ll,{className:"text-2xl",children:"Regjistrimi u krye me sukses!"})}),(0,n.jsxs)(o.aY,{className:"grid gap-4",children:[(0,n.jsxs)("p",{children:["Faleminderit p\xebr regjistrimin tuaj, ",t.full_name,". Ruajeni k\xebt\xeb kod QR pasi q\xeb \xebsht\xeb bileta juaj p\xebr konferenc\xeb."]}),n.jsx("div",{className:"flex justify-center bg-white p-4 rounded-lg",children:s?n.jsx("img",{src:s,alt:"QR Code",width:240,height:240}):n.jsx("div",{className:"w-[240px] h-[240px] bg-gray-200 animate-pulse rounded-md"})}),(0,n.jsxs)("div",{className:"text-left bg-gray-50 p-4 rounded-lg space-y-2",children:[n.jsx("h3",{className:"font-semibold text-lg text-blue-600",children:"Detajet e Pages\xebs p\xebr Pjes\xebmarrje"}),(0,n.jsxs)("div",{className:"text-sm space-y-1",children:[(0,n.jsxs)("p",{children:[n.jsx("strong",{children:"Banka:"})," Pro Credit Bank"]}),(0,n.jsxs)("p",{children:[n.jsx("strong",{children:"Nr. i llogaris\xeb:"})," 1110240460000163"]}),(0,n.jsxs)("p",{children:[n.jsx("strong",{children:"Emri i llogaris\xeb:"})," KOSOVA FARMACEUTICAL SOCIETY"]}),(0,n.jsxs)("p",{children:[n.jsx("strong",{children:"Adresa:"})," Prishtin\xeb"]}),(0,n.jsxs)("p",{children:[n.jsx("strong",{children:"P\xebrshkrimi:"})," ",t.full_name,", pages\xeb p\xebr konferenc\xeb"]}),(0,n.jsxs)("p",{children:[n.jsx("strong",{children:"Vlera p\xebr pages\xeb:"})," ",t.fee_amount,".00 ",t.currency]})]})]}),(0,n.jsxs)("div",{className:"flex justify-center gap-4",children:[n.jsx(v,{disabled:!s}),n.jsx(i.Suspense,{children:n.jsx(m,{registrationId:t.id})})]})]})]})})}function y({message:e}){return n.jsx("div",{className:"container mx-auto px-4 py-12",children:(0,n.jsxs)(o.Zb,{className:"mx-auto max-w-lg",children:[n.jsx(o.Ol,{children:n.jsx(o.ll,{children:"Regjistrim i Pavlefsh\xebm"})}),(0,n.jsxs)(o.aY,{className:"grid gap-2",children:[n.jsx("p",{children:e||"T\xeb dh\xebnat e regjistrimit mungojn\xeb. Ju lutemi provoni p\xebrs\xebri."}),n.jsx(s.default,{href:"/conference/register",children:n.jsx(a.z,{variant:"outline",children:"Kthehu te Regjistrimi"})})]})]})})}},7889:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>d,metadata:()=>c});var n=t(9038);t(4980);var s=t(7404),i=t(4057);function a(){return n.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,n.jsxs)("div",{className:"container flex h-14 items-center",children:[(0,n.jsxs)("div",{className:"mr-4 hidden md:flex",children:[(0,n.jsxs)(s.default,{href:"/",className:"mr-6 flex items-center space-x-2",children:[n.jsx(i.default,{src:"/logo-shfk.png",width:32,height:32,alt:"SHFK Logo"}),n.jsx("span",{className:"hidden font-bold sm:inline-block",children:"SHFK"})]}),(0,n.jsxs)("nav",{className:"flex items-center space-x-6 text-sm font-medium",children:[n.jsx(s.default,{href:"/",children:"Ballina"}),n.jsx(s.default,{href:"/konferenca",children:"Konferenca"}),n.jsx(s.default,{href:"/rreth-nesh",children:"Rreth nesh"}),n.jsx(s.default,{href:"/kontakt",children:"Kontakt"})]})]}),n.jsx("div",{className:"flex flex-1 items-center justify-between space-x-2 md:justify-end",children:n.jsx("nav",{className:"flex items-center",children:n.jsx(s.default,{href:"/conference/register",className:"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground shadow hover:bg-primary/90 h-9 px-4 py-2",children:"Regjistrohu"})})})]})})}function o(){return n.jsx("footer",{className:"py-6 md:px-8 md:py-0",children:n.jsx("div",{className:"container flex flex-col items-center justify-between gap-4 md:h-24 md:flex-row",children:(0,n.jsxs)("p",{className:"text-center text-sm leading-loose text-muted-foreground md:text-left",children:["\xa9 ",new Date().getFullYear()," Shoqata Farmaceutike e Kosov\xebs. T\xeb gjitha t\xeb drejtat e rezervuara."]})})})}var l=t(9584);let c={title:"SHFMK Konferenca",description:"Shoqata Farmaceutike e Kosov\xebs - Regjistrimi n\xeb konferenc\xeb"};function d({children:e}){return n.jsx("html",{lang:"sq",children:(0,n.jsxs)("body",{className:(0,l.cn)("min-h-screen bg-background font-sans antialiased"),children:[n.jsx(a,{}),n.jsx("main",{className:"flex-1",children:e}),n.jsx(o,{})]})})}},6288:(e,r,t)=>{"use strict";let n,s;t.d(r,{z:()=>y});var i=t(9038),a=t(1109),o=t.t(a,2);function l(e,r){if("function"==typeof e)return e(r);null!=e&&(e.current=r)}var c=Symbol.for("react.lazy"),d=o[" use ".trim().toString()];function u(e){var r;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===c&&"_payload"in e&&"object"==typeof(r=e._payload)&&null!==r&&"then"in r}var f=function(e){let r=function(e){let r=a.forwardRef((e,r)=>{let{children:t,...n}=e;if(u(t)&&"function"==typeof d&&(t=d(t._payload)),a.isValidElement(t)){var s;let e,i;let o=(s=t,(e=Object.getOwnPropertyDescriptor(s.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?s.ref:(e=Object.getOwnPropertyDescriptor(s,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?s.props.ref:s.props.ref||s.ref),c=function(e,r){let t={...r};for(let n in r){let s=e[n],i=r[n];/^on[A-Z]/.test(n)?s&&i?t[n]=(...e)=>{let r=i(...e);return s(...e),r}:s&&(t[n]=s):"style"===n?t[n]={...s,...i}:"className"===n&&(t[n]=[s,i].filter(Boolean).join(" "))}return{...e,...t}}(n,t.props);return t.type!==a.Fragment&&(c.ref=r?function(...e){return r=>{let t=!1,n=e.map(e=>{let n=l(e,r);return t||"function"!=typeof n||(t=!0),n});if(t)return()=>{for(let r=0;r<n.length;r++){let t=n[r];"function"==typeof t?t():l(e[r],null)}}}}(r,o):o),a.cloneElement(t,c)}return a.Children.count(t)>1?a.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}(e),t=a.forwardRef((e,t)=>{let{children:n,...s}=e;u(n)&&"function"==typeof d&&(n=d(n._payload));let o=a.Children.toArray(n),l=o.find(m);if(l){let e=l.props.children,n=o.map(r=>r!==l?r:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,i.jsx)(r,{...s,ref:t,children:a.isValidElement(e)?a.cloneElement(e,void 0,n):null})}return(0,i.jsx)(r,{...s,ref:t,children:n})});return t.displayName=`${e}.Slot`,t}("Slot"),p=Symbol("radix.slottable");function m(e){return a.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===p}var h=t(3401);let g=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,x=h.W;var v=t(9584);let b=(n="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s={variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}},e=>{var r;if((null==s?void 0:s.variants)==null)return x(n,null==e?void 0:e.class,null==e?void 0:e.className);let{variants:t,defaultVariants:i}=s,a=Object.keys(t).map(r=>{let n=null==e?void 0:e[r],s=null==i?void 0:i[r];if(null===n)return null;let a=g(n)||g(s);return t[r][a]}),o=e&&Object.entries(e).reduce((e,r)=>{let[t,n]=r;return void 0===n||(e[t]=n),e},{});return x(n,a,null==s?void 0:null===(r=s.compoundVariants)||void 0===r?void 0:r.reduce((e,r)=>{let{class:t,className:n,...s}=r;return Object.entries(s).every(e=>{let[r,t]=e;return Array.isArray(t)?t.includes({...i,...o}[r]):({...i,...o})[r]===t})?[...e,t,n]:e},[]),null==e?void 0:e.class,null==e?void 0:e.className)}),y=a.forwardRef(({className:e,variant:r,size:t,asChild:n=!1,...s},a)=>{let o=n?f:"button";return i.jsx(o,{className:(0,v.cn)(b({variant:r,size:t,className:e})),ref:a,...s})});y.displayName="Button"},2071:(e,r,t)=>{"use strict";t.d(r,{Ol:()=>o,Zb:()=>a,aY:()=>c,ll:()=>l});var n=t(9038),s=t(1109),i=t(9584);let a=s.forwardRef(({className:e,...r},t)=>n.jsx("div",{ref:t,className:(0,i.cn)("rounded-xl border bg-card text-card-foreground shadow",e),...r}));a.displayName="Card";let o=s.forwardRef(({className:e,...r},t)=>n.jsx("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...r}));o.displayName="CardHeader";let l=s.forwardRef(({className:e,...r},t)=>n.jsx("div",{ref:t,className:(0,i.cn)("font-semibold leading-none tracking-tight",e),...r}));l.displayName="CardTitle",s.forwardRef(({className:e,...r},t)=>n.jsx("div",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",e),...r})).displayName="CardDescription";let c=s.forwardRef(({className:e,...r},t)=>n.jsx("div",{ref:t,className:(0,i.cn)("p-6 pt-0",e),...r}));c.displayName="CardContent",s.forwardRef(({className:e,...r},t)=>n.jsx("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",e),...r})).displayName="CardFooter"},9147:(e,r,t)=>{"use strict";t.d(r,{Nn:()=>i,Q0:()=>n,ZE:()=>o,lC:()=>u,mF:()=>s,nD:()=>f,rf:()=>d,wb:()=>c,yL:()=>a,zV:()=>l});let n=process.env.CONFERENCE_SLUG??"annual-conference",s=process.env.SUPABASE_URL??"",i=process.env.SUPABASE_SERVICE_KEY??"",a=process.env.RESEND_API_KEY??"",o=process.env.RESEND_FROM_EMAIL??"",l=process.env.QR_PRIVATE_KEY_PEM?.replace(/\\n/g,"\n"),c=process.env.ADMIN_SECRET??"",d=process.env.JWT_SECRET??c;process.env.SITE_BASE_URL;let u="production";function f(){let e=[];if(s||e.push("SUPABASE_URL"),i||e.push("SUPABASE_SERVICE_KEY"),a||e.push("RESEND_API_KEY"),o||e.push("RESEND_FROM_EMAIL"),d||e.push("JWT_SECRET"),e.length>0)throw Error(`Missing required env vars: ${e.join(", ")}`)}},2060:(e,r,t)=>{"use strict";t.d(r,{s:()=>s});var n=t(5951);async function s(e){return n.toDataURL(e,{errorCorrectionLevel:"M",margin:2})}},4137:(e,r,t)=>{"use strict";t.d(r,{DR:()=>o,LA:()=>p,Oe:()=>m,Xd:()=>f,_Y:()=>l,nb:()=>u,o3:()=>c,pb:()=>d});var n=t(9110),s=t(9147);let i=s.mF&&s.Nn?(0,n.eI)(s.mF,s.Nn,{auth:{autoRefreshToken:!1,persistSession:!1}}):null;function a(){if(!i)throw Error("Supabase client not configured. Check SUPABASE_URL and SUPABASE_SERVICE_KEY.");return i}async function o(e,r){let t=a(),n=e.toLowerCase().trim(),{data:s,error:i}=await t.from("registrations").select("*").eq("email",n).eq("conference_id",r).maybeSingle();if(i)throw console.error("DB Error in getRegistrationByEmail:",i),Error(`Failed to query for existing registration: ${i.message}`);return s}async function l(e){let r=a(),{data:t,error:n}=await r.from("registrations").insert({id:e.id,conference_id:e.conferenceId,full_name:e.fullName,email:e.email.toLowerCase().trim(),phone:e.phone??null,institution:e.institution??null,category:e.category,fee_amount:e.feeAmount,currency:e.currency,qr_token:e.qrToken}).select("*").single();if(n||!t)throw console.error("DB Error in createRegistration:",n),Error(`Failed to create registration: ${n?.message??"unknown error"}`);return t}async function c(e=s.Q0){let r=a(),{data:t,error:n}=await r.from("conferences").select("*").eq("slug",e).maybeSingle();if(n)throw Error(`Failed to load conference: ${n.message}`);return t}async function d(e){let r=a(),{data:t,error:n}=await r.from("conferences").select("*").eq("id",e).maybeSingle();if(n)throw Error(`Failed to load conference by ID: ${n.message}`);return t}async function u(e){let r=a(),{count:t,error:n}=await r.from("registrations").select("*",{head:!0,count:"exact"}).eq("conference_id",e);if(n)throw Error(`Failed to count registrations: ${n.message}`);return t??0}async function f(e){let r=a(),{data:t,error:n}=await r.from("registrations").select("*").eq("id",e).single();if(n&&"PGRST116"!==n.code)throw console.error("DB Error in getRegistrationById:",n),Error(`Failed to load registration by ID: ${n.message}`);return t}async function p(e){let r=a().from("registrations").select("*").eq("conference_id",e.conferenceId).order("created_at",{ascending:!1});if(e.search){let t=`%${e.search.replace(/ /g,"%")}%`;r=r.or(`full_name.ilike.${t},email.ilike.${t}`)}e.limit&&(r=r.limit(e.limit));let{data:t,error:n}=await r;if(n)throw Error(`Failed to list registrations: ${n.message}`);return t??[]}async function m(e){let r=a(),{data:t,error:n}=await r.rpc("bulk_update_checkins",{payload:e});if(n)throw console.error("RPC Error in updateCheckInStatus:",n),Error(`Failed to bulk update check-ins: ${n.message}`);return t??0}},9584:(e,r,t)=>{"use strict";t.d(r,{cn:()=>i});var n=t(3401),s=t(3993);function i(...e){return(0,s.m6)((0,n.W)(e))}},4980:()=>{}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),n=r.X(0,[147,309,110,909,136],()=>t(4639));module.exports=n})();