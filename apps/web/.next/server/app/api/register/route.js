"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/register/route";
exports.ids = ["app/api/register/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("assert");

/***/ }),

/***/ "async_hooks":
/*!******************************!*\
  !*** external "async_hooks" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("async_hooks");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "node:buffer":
/*!******************************!*\
  !*** external "node:buffer" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:buffer");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:crypto");

/***/ }),

/***/ "node:stream":
/*!******************************!*\
  !*** external "node:stream" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:stream");

/***/ }),

/***/ "node:util":
/*!****************************!*\
  !*** external "node:util" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("node:util");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/../../.pnpm/next@14.2.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fregister%2Froute&page=%2Fapi%2Fregister%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fregister%2Froute.ts&appDir=%2FUsers%2Farbenlila%2Fdevelopment%2Fshfmk-association%2Fapps%2Fweb%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Farbenlila%2Fdevelopment%2Fshfmk-association%2Fapps%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../../.pnpm/next@14.2.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fregister%2Froute&page=%2Fapi%2Fregister%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fregister%2Froute.ts&appDir=%2FUsers%2Farbenlila%2Fdevelopment%2Fshfmk-association%2Fapps%2Fweb%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Farbenlila%2Fdevelopment%2Fshfmk-association%2Fapps%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/../../.pnpm/next@14.2.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/../../.pnpm/next@14.2.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/../../.pnpm/next@14.2.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_arbenlila_development_shfmk_association_apps_web_app_api_register_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/register/route.ts */ \"(rsc)/./app/api/register/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/register/route\",\n        pathname: \"/api/register\",\n        filename: \"route\",\n        bundlePath: \"app/api/register/route\"\n    },\n    resolvedPagePath: \"/Users/arbenlila/development/shfmk-association/apps/web/app/api/register/route.ts\",\n    nextConfigOutput,\n    userland: _Users_arbenlila_development_shfmk_association_apps_web_app_api_register_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/register/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLnBucG0vbmV4dEAxNC4yLjVfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjFfX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZyZWdpc3RlciUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGcmVnaXN0ZXIlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZyZWdpc3RlciUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmFyYmVubGlsYSUyRmRldmVsb3BtZW50JTJGc2hmbWstYXNzb2NpYXRpb24lMkZhcHBzJTJGd2ViJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRmFyYmVubGlsYSUyRmRldmVsb3BtZW50JTJGc2hmbWstYXNzb2NpYXRpb24lMkZhcHBzJTJGd2ViJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNpQztBQUM5RztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi8/MzgzMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvYXJiZW5saWxhL2RldmVsb3BtZW50L3NoZm1rLWFzc29jaWF0aW9uL2FwcHMvd2ViL2FwcC9hcGkvcmVnaXN0ZXIvcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3JlZ2lzdGVyL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvcmVnaXN0ZXJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL3JlZ2lzdGVyL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL1VzZXJzL2FyYmVubGlsYS9kZXZlbG9wbWVudC9zaGZtay1hc3NvY2lhdGlvbi9hcHBzL3dlYi9hcHAvYXBpL3JlZ2lzdGVyL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9yZWdpc3Rlci9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../.pnpm/next@14.2.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fregister%2Froute&page=%2Fapi%2Fregister%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fregister%2Froute.ts&appDir=%2FUsers%2Farbenlila%2Fdevelopment%2Fshfmk-association%2Fapps%2Fweb%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Farbenlila%2Fdevelopment%2Fshfmk-association%2Fapps%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/register/route.ts":
/*!***********************************!*\
  !*** ./app/api/register/route.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/../../.pnpm/next@14.2.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/api/server.js\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! zod */ \"(rsc)/../../.pnpm/zod@3.25.76/node_modules/zod/v3/types.js\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! zod */ \"(rsc)/../../.pnpm/zod@3.25.76/node_modules/zod/v3/ZodError.js\");\n/* harmony import */ var _lib_fees__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/fees */ \"(rsc)/./lib/fees.ts\");\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/supabase */ \"(rsc)/./lib/supabase.ts\");\n/* harmony import */ var _shfmk_shared__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @shfmk/shared */ \"(rsc)/../../packages/shared/src/index.ts\");\n/* harmony import */ var _lib_env__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/env */ \"(rsc)/./lib/env.ts\");\n/* harmony import */ var _lib_qr__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/qr */ \"(rsc)/./lib/qr.ts\");\n/* harmony import */ var _lib_email__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/lib/email */ \"(rsc)/./lib/email.ts\");\n\n\n\n\n\n\n\n\nconst inputSchema = zod__WEBPACK_IMPORTED_MODULE_7__.object({\n    fullName: zod__WEBPACK_IMPORTED_MODULE_7__.string().min(2, \"Name is required\"),\n    email: zod__WEBPACK_IMPORTED_MODULE_7__.string().email(\"Invalid email\"),\n    phone: zod__WEBPACK_IMPORTED_MODULE_7__.string().optional(),\n    institution: zod__WEBPACK_IMPORTED_MODULE_7__.string().optional(),\n    category: zod__WEBPACK_IMPORTED_MODULE_7__[\"enum\"]([\n        \"member\",\n        \"non_member\",\n        \"student\"\n    ])\n});\nasync function POST(req) {\n    try {\n        const body = await req.json();\n        const input = inputSchema.parse(body);\n        const conference = await (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.getConferenceBySlug)();\n        if (!conference) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Conference not found\"\n            }, {\n                status: 404\n            });\n        }\n        (0,_lib_fees__WEBPACK_IMPORTED_MODULE_1__.ensureRegistrationIsOpen)(conference);\n        const registeredCount = await (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.countRegistrations)(conference.id);\n        (0,_lib_fees__WEBPACK_IMPORTED_MODULE_1__.ensureCapacity)(registeredCount, conference);\n        const fee = (0,_lib_fees__WEBPACK_IMPORTED_MODULE_1__.calculateFee)(conference, input.category);\n        const registration = await (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.createRegistration)({\n            conferenceId: conference.id,\n            fullName: input.fullName,\n            email: input.email,\n            phone: input.phone,\n            institution: input.institution,\n            category: input.category,\n            feeAmount: fee,\n            currency: conference.currency\n        });\n        const payload = {\n            sub: registration.id,\n            name: registration.full_name,\n            cat: registration.category,\n            conf: conference.slug,\n            fee,\n            cur: conference.currency\n        };\n        const { token, generated, publicKeyPem } = await (0,_shfmk_shared__WEBPACK_IMPORTED_MODULE_3__.signRegistrationToken)(payload, _lib_env__WEBPACK_IMPORTED_MODULE_4__.QR_PRIVATE_KEY_PEM);\n        const qrDataUrl = await (0,_lib_qr__WEBPACK_IMPORTED_MODULE_5__.createQrDataUrl)(token);\n        try {\n            await (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.saveQrToken)(registration.id, token);\n        } catch (error) {\n            console.error(\"Failed to persist QR token\", error);\n        }\n        let emailError = null;\n        try {\n            await (0,_lib_email__WEBPACK_IMPORTED_MODULE_6__.sendConfirmationEmail)({\n                to: registration.email,\n                fullName: registration.full_name,\n                qrDataUrl,\n                conferenceName: conference.name,\n                category: registration.category,\n                fee,\n                currency: conference.currency\n            });\n        } catch (error) {\n            console.error(\"Email send failed\", error);\n            emailError = error.message ?? \"Failed to send email\";\n        }\n        if (generated && publicKeyPem) {\n            console.warn(\"DEMO MODE: QR_PRIVATE_KEY_PEM missing. Generated temporary key pair.\");\n            console.warn(\"Use this public key in the scanner:\\n\", publicKeyPem);\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            registrationId: registration.id,\n            token,\n            qrDataUrl,\n            emailError,\n            demoPublicKey: generated ? publicKeyPem : undefined\n        });\n    } catch (error) {\n        if (error instanceof zod__WEBPACK_IMPORTED_MODULE_8__.ZodError) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: error.issues[0]?.message ?? \"Invalid input\"\n            }, {\n                status: 400\n            });\n        }\n        const message = error.message ?? \"Unexpected error\";\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: message\n        }, {\n            status: 400\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QkFBZ0J2QixhQUFhRixFQUFFO1lBQy9CYztZQUNBRztZQUNBRTtZQUNBTyxlQUFlWCxZQUFZQyxlQUFlVztRQUM1QztJQUNGLEVBQUUsT0FBTzlCLE9BQU87UUFDZCxJQUFJQSxpQkFBaUI5Qix5Q0FBVSxFQUFFO1lBQy9CLE9BQU9ELHFEQUFZQSxDQUFDMkIsSUFBSSxDQUFDO2dCQUFFSSxPQUFPQSxNQUFNZ0MsTUFBTSxDQUFDLEVBQUUsRUFBRVAsV0FBVztZQUFnQixHQUFHO2dCQUFFeEIsUUFBUTtZQUFJO1FBQ2pHO1FBRUEsTUFBTXdCLFVBQVUsTUFBaUJBLE9BQU8sSUFBSTtRQUM1QyxPQUFPeEQscURBQVlBLENBQUMyQixJQUFJLENBQUM7WUFBRUksT0FBT3lCO1FBQVEsR0FBRztZQUFFeEIsUUFBUTtRQUFJO0lBQzdEO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvLi9hcHAvYXBpL3JlZ2lzdGVyL3JvdXRlLnRzP2Y1NDYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdHlwZSBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSBcIm5leHQvc2VydmVyXCI7XG5pbXBvcnQgeyB6IH0gZnJvbSBcInpvZFwiO1xuaW1wb3J0IHsgY2FsY3VsYXRlRmVlLCBlbnN1cmVDYXBhY2l0eSwgZW5zdXJlUmVnaXN0cmF0aW9uSXNPcGVuIH0gZnJvbSBcIkAvbGliL2ZlZXNcIjtcbmltcG9ydCB7XG4gIGNvdW50UmVnaXN0cmF0aW9ucyxcbiAgY3JlYXRlUmVnaXN0cmF0aW9uLFxuICBnZXRDb25mZXJlbmNlQnlTbHVnLFxuICBzYXZlUXJUb2tlblxufSBmcm9tIFwiQC9saWIvc3VwYWJhc2VcIjtcbmltcG9ydCB7IFJlZ2lzdHJhdGlvblRva2VuUGF5bG9hZCwgc2lnblJlZ2lzdHJhdGlvblRva2VuIH0gZnJvbSBcIkBzaGZtay9zaGFyZWRcIjtcbmltcG9ydCB7IFFSX1BSSVZBVEVfS0VZX1BFTSB9IGZyb20gXCJAL2xpYi9lbnZcIjtcbmltcG9ydCB7IGNyZWF0ZVFyRGF0YVVybCB9IGZyb20gXCJAL2xpYi9xclwiO1xuaW1wb3J0IHsgc2VuZENvbmZpcm1hdGlvbkVtYWlsIH0gZnJvbSBcIkAvbGliL2VtYWlsXCI7XG5cbmNvbnN0IGlucHV0U2NoZW1hID0gei5vYmplY3Qoe1xuICBmdWxsTmFtZTogei5zdHJpbmcoKS5taW4oMiwgXCJOYW1lIGlzIHJlcXVpcmVkXCIpLFxuICBlbWFpbDogei5zdHJpbmcoKS5lbWFpbChcIkludmFsaWQgZW1haWxcIiksXG4gIHBob25lOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIGluc3RpdHV0aW9uOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIGNhdGVnb3J5OiB6LmVudW0oW1wibWVtYmVyXCIsIFwibm9uX21lbWJlclwiLCBcInN0dWRlbnRcIl0pXG59KTtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxOiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXEuanNvbigpO1xuICAgIGNvbnN0IGlucHV0ID0gaW5wdXRTY2hlbWEucGFyc2UoYm9keSk7XG5cbiAgICBjb25zdCBjb25mZXJlbmNlID0gYXdhaXQgZ2V0Q29uZmVyZW5jZUJ5U2x1ZygpO1xuICAgIGlmICghY29uZmVyZW5jZSkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IFwiQ29uZmVyZW5jZSBub3QgZm91bmRcIiB9LCB7IHN0YXR1czogNDA0IH0pO1xuICAgIH1cblxuICAgIGVuc3VyZVJlZ2lzdHJhdGlvbklzT3Blbihjb25mZXJlbmNlKTtcblxuICAgIGNvbnN0IHJlZ2lzdGVyZWRDb3VudCA9IGF3YWl0IGNvdW50UmVnaXN0cmF0aW9ucyhjb25mZXJlbmNlLmlkKTtcbiAgICBlbnN1cmVDYXBhY2l0eShyZWdpc3RlcmVkQ291bnQsIGNvbmZlcmVuY2UpO1xuXG4gICAgY29uc3QgZmVlID0gY2FsY3VsYXRlRmVlKGNvbmZlcmVuY2UsIGlucHV0LmNhdGVnb3J5KTtcbiAgICBjb25zdCByZWdpc3RyYXRpb24gPSBhd2FpdCBjcmVhdGVSZWdpc3RyYXRpb24oe1xuICAgICAgY29uZmVyZW5jZUlkOiBjb25mZXJlbmNlLmlkLFxuICAgICAgZnVsbE5hbWU6IGlucHV0LmZ1bGxOYW1lLFxuICAgICAgZW1haWw6IGlucHV0LmVtYWlsLFxuICAgICAgcGhvbmU6IGlucHV0LnBob25lLFxuICAgICAgaW5zdGl0dXRpb246IGlucHV0Lmluc3RpdHV0aW9uLFxuICAgICAgY2F0ZWdvcnk6IGlucHV0LmNhdGVnb3J5LFxuICAgICAgZmVlQW1vdW50OiBmZWUsXG4gICAgICBjdXJyZW5jeTogY29uZmVyZW5jZS5jdXJyZW5jeVxuICAgIH0pO1xuXG4gICAgY29uc3QgcGF5bG9hZDogUmVnaXN0cmF0aW9uVG9rZW5QYXlsb2FkID0ge1xuICAgICAgc3ViOiByZWdpc3RyYXRpb24uaWQsXG4gICAgICBuYW1lOiByZWdpc3RyYXRpb24uZnVsbF9uYW1lLFxuICAgICAgY2F0OiByZWdpc3RyYXRpb24uY2F0ZWdvcnksXG4gICAgICBjb25mOiBjb25mZXJlbmNlLnNsdWcsXG4gICAgICBmZWUsXG4gICAgICBjdXI6IGNvbmZlcmVuY2UuY3VycmVuY3lcbiAgICB9O1xuXG4gICAgY29uc3QgeyB0b2tlbiwgZ2VuZXJhdGVkLCBwdWJsaWNLZXlQZW0gfSA9IGF3YWl0IHNpZ25SZWdpc3RyYXRpb25Ub2tlbihcbiAgICAgIHBheWxvYWQsXG4gICAgICBRUl9QUklWQVRFX0tFWV9QRU1cbiAgICApO1xuICAgIGNvbnN0IHFyRGF0YVVybCA9IGF3YWl0IGNyZWF0ZVFyRGF0YVVybCh0b2tlbik7XG5cbiAgICB0cnkge1xuICAgICAgYXdhaXQgc2F2ZVFyVG9rZW4ocmVnaXN0cmF0aW9uLmlkLCB0b2tlbik7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gcGVyc2lzdCBRUiB0b2tlblwiLCBlcnJvcik7XG4gICAgfVxuXG4gICAgbGV0IGVtYWlsRXJyb3I6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBzZW5kQ29uZmlybWF0aW9uRW1haWwoe1xuICAgICAgICB0bzogcmVnaXN0cmF0aW9uLmVtYWlsLFxuICAgICAgICBmdWxsTmFtZTogcmVnaXN0cmF0aW9uLmZ1bGxfbmFtZSxcbiAgICAgICAgcXJEYXRhVXJsLFxuICAgICAgICBjb25mZXJlbmNlTmFtZTogY29uZmVyZW5jZS5uYW1lLFxuICAgICAgICBjYXRlZ29yeTogcmVnaXN0cmF0aW9uLmNhdGVnb3J5LFxuICAgICAgICBmZWUsXG4gICAgICAgIGN1cnJlbmN5OiBjb25mZXJlbmNlLmN1cnJlbmN5XG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVtYWlsIHNlbmQgZmFpbGVkXCIsIGVycm9yKTtcbiAgICAgIGVtYWlsRXJyb3IgPSAoZXJyb3IgYXMgRXJyb3IpLm1lc3NhZ2UgPz8gXCJGYWlsZWQgdG8gc2VuZCBlbWFpbFwiO1xuICAgIH1cblxuICAgIGlmIChnZW5lcmF0ZWQgJiYgcHVibGljS2V5UGVtKSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJERU1PIE1PREU6IFFSX1BSSVZBVEVfS0VZX1BFTSBtaXNzaW5nLiBHZW5lcmF0ZWQgdGVtcG9yYXJ5IGtleSBwYWlyLlwiKTtcbiAgICAgIGNvbnNvbGUud2FybihcIlVzZSB0aGlzIHB1YmxpYyBrZXkgaW4gdGhlIHNjYW5uZXI6XFxuXCIsIHB1YmxpY0tleVBlbSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICByZWdpc3RyYXRpb25JZDogcmVnaXN0cmF0aW9uLmlkLFxuICAgICAgdG9rZW4sXG4gICAgICBxckRhdGFVcmwsXG4gICAgICBlbWFpbEVycm9yLFxuICAgICAgZGVtb1B1YmxpY0tleTogZ2VuZXJhdGVkID8gcHVibGljS2V5UGVtIDogdW5kZWZpbmVkXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2Ygei5ab2RFcnJvcikge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IGVycm9yLmlzc3Vlc1swXT8ubWVzc2FnZSA/PyBcIkludmFsaWQgaW5wdXRcIiB9LCB7IHN0YXR1czogNDAwIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IG1lc3NhZ2UgPSAoZXJyb3IgYXMgRXJyb3IpLm1lc3NhZ2UgPz8gXCJVbmV4cGVjdGVkIGVycm9yXCI7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IG1lc3NhZ2UgfSwgeyBzdGF0dXM6IDQwMCB9KTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsInoiLCJjYWxjdWxhdGVGZWUiLCJlbnN1cmVDYXBhY2l0eSIsImVuc3VyZVJlZ2lzdHJhdGlvbklzT3BlbiIsImNvdW50UmVnaXN0cmF0aW9ucyIsImNyZWF0ZVJlZ2lzdHJhdGlvbiIsImdldENvbmZlcmVuY2VCeVNsdWciLCJzYXZlUXJUb2tlbiIsInNpZ25SZWdpc3RyYXRpb25Ub2tlbiIsIlFSX1BSSVZBVEVfS0VZX1BFTSIsImNyZWF0ZVFyRGF0YVVybCIsInNlbmRDb25maXJtYXRpb25FbWFpbCIsImlucHV0U2NoZW1hIiwib2JqZWN0IiwiZnVsbE5hbWUiLCJzdHJpbmciLCJtaW4iLCJlbWFpbCIsInBob25lIiwib3B0aW9uYWwiLCJpbnN0aXR1dGlvbiIsImNhdGVnb3J5IiwiZW51bSIsIlBPU1QiLCJyZXEiLCJib2R5IiwianNvbiIsImlucHV0IiwicGFyc2UiLCJjb25mZXJlbmNlIiwiZXJyb3IiLCJzdGF0dXMiLCJyZWdpc3RlcmVkQ291bnQiLCJpZCIsImZlZSIsInJlZ2lzdHJhdGlvbiIsImNvbmZlcmVuY2VJZCIsImZlZUFtb3VudCIsImN1cnJlbmN5IiwicGF5bG9hZCIsInN1YiIsIm5hbWUiLCJmdWxsX25hbWUiLCJjYXQiLCJjb25mIiwic2x1ZyIsImN1ciIsInRva2VuIiwiZ2VuZXJhdGVkIiwicHVibGljS2V5UGVtIiwicXJEYXRhVXJsIiwiY29uc29sZSIsImVtYWlsRXJyb3IiLCJ0byIsImNvbmZlcmVuY2VOYW1lIiwibWVzc2FnZSIsIndhcm4iLCJzdWNjZXNzIiwicmVnaXN0cmF0aW9uSWQiLCJkZW1vUHVibGljS2V5IiwidW5kZWZpbmVkIiwiWm9kRXJyb3IiLCJpc3N1ZXMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/register/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/email.ts":
/*!**********************!*\
  !*** ./lib/email.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   sendConfirmationEmail: () => (/* binding */ sendConfirmationEmail)\n/* harmony export */ });\n/* harmony import */ var resend__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! resend */ \"(rsc)/../../.pnpm/resend@4.8.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/resend/dist/index.mjs\");\n/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./env */ \"(rsc)/./lib/env.ts\");\n\n\nconst resendClient = _env__WEBPACK_IMPORTED_MODULE_1__.RESEND_API_KEY ? new resend__WEBPACK_IMPORTED_MODULE_0__.Resend(_env__WEBPACK_IMPORTED_MODULE_1__.RESEND_API_KEY) : null;\nasync function sendConfirmationEmail(input) {\n    if (!resendClient) {\n        throw new Error(\"Resend client missing. Set RESEND_API_KEY.\");\n    }\n    if (!_env__WEBPACK_IMPORTED_MODULE_1__.RESEND_FROM_EMAIL) {\n        throw new Error(\"Missing RESEND_FROM_EMAIL.\");\n    }\n    const subject = `Your SHFMK conference registration QR`;\n    const html = `\n    <div style=\"font-family: Arial, sans-serif; color: #111;\">\n      <p>Pershendetje ${input.fullName},</p>\n      <p>Faleminderit për regjistrimin në <strong>${input.conferenceName}</strong>.</p>\n      <p>Kategoria: <strong>${input.category}</strong> | Pagesa: <strong>${input.fee} ${input.currency}</strong></p>\n      <p>Ky është QR-ja juaj (ruajeni si screenshot). Kontrollimi bëhet offline me çelës publik.</p>\n      <p style=\"text-align:center;\">\n        <img src=\"${input.qrDataUrl}\" alt=\"QR\" style=\"width:220px;height:220px;border:1px solid #eee;padding:8px;border-radius:12px;\" />\n      </p>\n      <p>Nëse QR nuk shfaqet, mund ta hapni nga faqja e suksesit: ${_env__WEBPACK_IMPORTED_MODULE_1__.SITE_BASE_URL}/conference/register/success</p>\n      <p>Respekte,<br />Shoqata Farmaceutike e Kosovës</p>\n    </div>\n  `;\n    await resendClient.emails.send({\n        from: _env__WEBPACK_IMPORTED_MODULE_1__.RESEND_FROM_EMAIL,\n        to: input.to,\n        subject,\n        html\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvZW1haWwudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWdDO0FBQ3lDO0FBRXpFLE1BQU1JLGVBQWVILGdEQUFjQSxHQUFHLElBQUlELDBDQUFNQSxDQUFDQyxnREFBY0EsSUFBSTtBQVk1RCxlQUFlSSxzQkFBc0JDLEtBQTZCO0lBQ3ZFLElBQUksQ0FBQ0YsY0FBYztRQUNqQixNQUFNLElBQUlHLE1BQU07SUFDbEI7SUFDQSxJQUFJLENBQUNMLG1EQUFpQkEsRUFBRTtRQUN0QixNQUFNLElBQUlLLE1BQU07SUFDbEI7SUFFQSxNQUFNQyxVQUFVLENBQUMscUNBQXFDLENBQUM7SUFDdkQsTUFBTUMsT0FBTyxDQUFDOztzQkFFTSxFQUFFSCxNQUFNSSxRQUFRLENBQUM7a0RBQ1csRUFBRUosTUFBTUssY0FBYyxDQUFDOzRCQUM3QyxFQUFFTCxNQUFNTSxRQUFRLENBQUMsNEJBQTRCLEVBQUVOLE1BQU1PLEdBQUcsQ0FBQyxDQUFDLEVBQUVQLE1BQU1RLFFBQVEsQ0FBQzs7O2tCQUdyRixFQUFFUixNQUFNUyxTQUFTLENBQUM7O2tFQUU4QixFQUFFWiwrQ0FBYUEsQ0FBQzs7O0VBR2hGLENBQUM7SUFFRCxNQUFNQyxhQUFhWSxNQUFNLENBQUNDLElBQUksQ0FBQztRQUM3QkMsTUFBTWhCLG1EQUFpQkE7UUFDdkJpQixJQUFJYixNQUFNYSxFQUFFO1FBQ1pYO1FBQ0FDO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi8uL2xpYi9lbWFpbC50cz84MjgxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlc2VuZCB9IGZyb20gXCJyZXNlbmRcIjtcbmltcG9ydCB7IFJFU0VORF9BUElfS0VZLCBSRVNFTkRfRlJPTV9FTUFJTCwgU0lURV9CQVNFX1VSTCB9IGZyb20gXCIuL2VudlwiO1xuXG5jb25zdCByZXNlbmRDbGllbnQgPSBSRVNFTkRfQVBJX0tFWSA/IG5ldyBSZXNlbmQoUkVTRU5EX0FQSV9LRVkpIDogbnVsbDtcblxuZXhwb3J0IGludGVyZmFjZSBDb25maXJtYXRpb25FbWFpbElucHV0IHtcbiAgdG86IHN0cmluZztcbiAgZnVsbE5hbWU6IHN0cmluZztcbiAgcXJEYXRhVXJsOiBzdHJpbmc7XG4gIGNvbmZlcmVuY2VOYW1lOiBzdHJpbmc7XG4gIGNhdGVnb3J5OiBzdHJpbmc7XG4gIGZlZTogbnVtYmVyO1xuICBjdXJyZW5jeTogc3RyaW5nO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZENvbmZpcm1hdGlvbkVtYWlsKGlucHV0OiBDb25maXJtYXRpb25FbWFpbElucHV0KSB7XG4gIGlmICghcmVzZW5kQ2xpZW50KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiUmVzZW5kIGNsaWVudCBtaXNzaW5nLiBTZXQgUkVTRU5EX0FQSV9LRVkuXCIpO1xuICB9XG4gIGlmICghUkVTRU5EX0ZST01fRU1BSUwpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIFJFU0VORF9GUk9NX0VNQUlMLlwiKTtcbiAgfVxuXG4gIGNvbnN0IHN1YmplY3QgPSBgWW91ciBTSEZNSyBjb25mZXJlbmNlIHJlZ2lzdHJhdGlvbiBRUmA7XG4gIGNvbnN0IGh0bWwgPSBgXG4gICAgPGRpdiBzdHlsZT1cImZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjsgY29sb3I6ICMxMTE7XCI+XG4gICAgICA8cD5QZXJzaGVuZGV0amUgJHtpbnB1dC5mdWxsTmFtZX0sPC9wPlxuICAgICAgPHA+RmFsZW1pbmRlcml0IHDDq3IgcmVnamlzdHJpbWluIG7DqyA8c3Ryb25nPiR7aW5wdXQuY29uZmVyZW5jZU5hbWV9PC9zdHJvbmc+LjwvcD5cbiAgICAgIDxwPkthdGVnb3JpYTogPHN0cm9uZz4ke2lucHV0LmNhdGVnb3J5fTwvc3Ryb25nPiB8IFBhZ2VzYTogPHN0cm9uZz4ke2lucHV0LmZlZX0gJHtpbnB1dC5jdXJyZW5jeX08L3N0cm9uZz48L3A+XG4gICAgICA8cD5LeSDDq3NodMOrIFFSLWphIGp1YWogKHJ1YWplbmkgc2kgc2NyZWVuc2hvdCkuIEtvbnRyb2xsaW1pIGLDq2hldCBvZmZsaW5lIG1lIMOnZWzDq3MgcHVibGlrLjwvcD5cbiAgICAgIDxwIHN0eWxlPVwidGV4dC1hbGlnbjpjZW50ZXI7XCI+XG4gICAgICAgIDxpbWcgc3JjPVwiJHtpbnB1dC5xckRhdGFVcmx9XCIgYWx0PVwiUVJcIiBzdHlsZT1cIndpZHRoOjIyMHB4O2hlaWdodDoyMjBweDtib3JkZXI6MXB4IHNvbGlkICNlZWU7cGFkZGluZzo4cHg7Ym9yZGVyLXJhZGl1czoxMnB4O1wiIC8+XG4gICAgICA8L3A+XG4gICAgICA8cD5Ow6tzZSBRUiBudWsgc2hmYXFldCwgbXVuZCB0YSBoYXBuaSBuZ2EgZmFxamEgZSBzdWtzZXNpdDogJHtTSVRFX0JBU0VfVVJMfS9jb25mZXJlbmNlL3JlZ2lzdGVyL3N1Y2Nlc3M8L3A+XG4gICAgICA8cD5SZXNwZWt0ZSw8YnIgLz5TaG9xYXRhIEZhcm1hY2V1dGlrZSBlIEtvc292w6tzPC9wPlxuICAgIDwvZGl2PlxuICBgO1xuXG4gIGF3YWl0IHJlc2VuZENsaWVudC5lbWFpbHMuc2VuZCh7XG4gICAgZnJvbTogUkVTRU5EX0ZST01fRU1BSUwsXG4gICAgdG86IGlucHV0LnRvLFxuICAgIHN1YmplY3QsXG4gICAgaHRtbFxuICB9KTtcbn1cbiJdLCJuYW1lcyI6WyJSZXNlbmQiLCJSRVNFTkRfQVBJX0tFWSIsIlJFU0VORF9GUk9NX0VNQUlMIiwiU0lURV9CQVNFX1VSTCIsInJlc2VuZENsaWVudCIsInNlbmRDb25maXJtYXRpb25FbWFpbCIsImlucHV0IiwiRXJyb3IiLCJzdWJqZWN0IiwiaHRtbCIsImZ1bGxOYW1lIiwiY29uZmVyZW5jZU5hbWUiLCJjYXRlZ29yeSIsImZlZSIsImN1cnJlbmN5IiwicXJEYXRhVXJsIiwiZW1haWxzIiwic2VuZCIsImZyb20iLCJ0byJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/email.ts\n");

/***/ }),

/***/ "(rsc)/./lib/env.ts":
/*!********************!*\
  !*** ./lib/env.ts ***!
  \********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ADMIN_SECRET: () => (/* binding */ ADMIN_SECRET),\n/* harmony export */   CONFERENCE_SLUG: () => (/* binding */ CONFERENCE_SLUG),\n/* harmony export */   QR_PRIVATE_KEY_PEM: () => (/* binding */ QR_PRIVATE_KEY_PEM),\n/* harmony export */   RESEND_API_KEY: () => (/* binding */ RESEND_API_KEY),\n/* harmony export */   RESEND_FROM_EMAIL: () => (/* binding */ RESEND_FROM_EMAIL),\n/* harmony export */   SITE_BASE_URL: () => (/* binding */ SITE_BASE_URL),\n/* harmony export */   SUPABASE_SERVICE_KEY: () => (/* binding */ SUPABASE_SERVICE_KEY),\n/* harmony export */   SUPABASE_URL: () => (/* binding */ SUPABASE_URL),\n/* harmony export */   ensureServerEnv: () => (/* binding */ ensureServerEnv)\n/* harmony export */ });\nconst CONFERENCE_SLUG = process.env.CONFERENCE_SLUG ?? \"annual-conference\";\nconst SUPABASE_URL = process.env.SUPABASE_URL ?? \"\";\nconst SUPABASE_SERVICE_KEY = process.env.SUPABASE_SERVICE_KEY ?? \"\";\nconst RESEND_API_KEY = process.env.RESEND_API_KEY ?? \"\";\nconst RESEND_FROM_EMAIL = process.env.RESEND_FROM_EMAIL ?? \"\";\nconst QR_PRIVATE_KEY_PEM = process.env.QR_PRIVATE_KEY_PEM;\nconst ADMIN_SECRET = process.env.ADMIN_SECRET ?? \"\";\nconst SITE_BASE_URL = process.env.SITE_BASE_URL ?? \"http://localhost:3000\";\nfunction ensureServerEnv() {\n    const missing = [];\n    if (!SUPABASE_URL) missing.push(\"SUPABASE_URL\");\n    if (!SUPABASE_SERVICE_KEY) missing.push(\"SUPABASE_SERVICE_KEY\");\n    if (!RESEND_API_KEY) missing.push(\"RESEND_API_KEY\");\n    if (!RESEND_FROM_EMAIL) missing.push(\"RESEND_FROM_EMAIL\");\n    if (missing.length > 0) {\n        throw new Error(`Missing required env vars: ${missing.join(\", \")}`);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvZW52LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFPLE1BQU1BLGtCQUFrQkMsUUFBUUMsR0FBRyxDQUFDRixlQUFlLElBQUksb0JBQW9CO0FBQzNFLE1BQU1HLGVBQWVGLFFBQVFDLEdBQUcsQ0FBQ0MsWUFBWSxJQUFJLEdBQUc7QUFDcEQsTUFBTUMsdUJBQXVCSCxRQUFRQyxHQUFHLENBQUNFLG9CQUFvQixJQUFJLEdBQUc7QUFDcEUsTUFBTUMsaUJBQWlCSixRQUFRQyxHQUFHLENBQUNHLGNBQWMsSUFBSSxHQUFHO0FBQ3hELE1BQU1DLG9CQUFvQkwsUUFBUUMsR0FBRyxDQUFDSSxpQkFBaUIsSUFBSSxHQUFHO0FBQzlELE1BQU1DLHFCQUFxQk4sUUFBUUMsR0FBRyxDQUFDSyxrQkFBa0IsQ0FBQztBQUMxRCxNQUFNQyxlQUFlUCxRQUFRQyxHQUFHLENBQUNNLFlBQVksSUFBSSxHQUFHO0FBQ3BELE1BQU1DLGdCQUNYUixRQUFRQyxHQUFHLENBQUNPLGFBQWEsSUFBSSx3QkFBd0I7QUFFaEQsU0FBU0M7SUFDZCxNQUFNQyxVQUFvQixFQUFFO0lBQzVCLElBQUksQ0FBQ1IsY0FBY1EsUUFBUUMsSUFBSSxDQUFDO0lBQ2hDLElBQUksQ0FBQ1Isc0JBQXNCTyxRQUFRQyxJQUFJLENBQUM7SUFDeEMsSUFBSSxDQUFDUCxnQkFBZ0JNLFFBQVFDLElBQUksQ0FBQztJQUNsQyxJQUFJLENBQUNOLG1CQUFtQkssUUFBUUMsSUFBSSxDQUFDO0lBRXJDLElBQUlELFFBQVFFLE1BQU0sR0FBRyxHQUFHO1FBQ3RCLE1BQU0sSUFBSUMsTUFBTSxDQUFDLDJCQUEyQixFQUFFSCxRQUFRSSxJQUFJLENBQUMsTUFBTSxDQUFDO0lBQ3BFO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvLi9saWIvZW52LnRzPzkzZjIiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IENPTkZFUkVOQ0VfU0xVRyA9IHByb2Nlc3MuZW52LkNPTkZFUkVOQ0VfU0xVRyA/PyBcImFubnVhbC1jb25mZXJlbmNlXCI7XG5leHBvcnQgY29uc3QgU1VQQUJBU0VfVVJMID0gcHJvY2Vzcy5lbnYuU1VQQUJBU0VfVVJMID8/IFwiXCI7XG5leHBvcnQgY29uc3QgU1VQQUJBU0VfU0VSVklDRV9LRVkgPSBwcm9jZXNzLmVudi5TVVBBQkFTRV9TRVJWSUNFX0tFWSA/PyBcIlwiO1xuZXhwb3J0IGNvbnN0IFJFU0VORF9BUElfS0VZID0gcHJvY2Vzcy5lbnYuUkVTRU5EX0FQSV9LRVkgPz8gXCJcIjtcbmV4cG9ydCBjb25zdCBSRVNFTkRfRlJPTV9FTUFJTCA9IHByb2Nlc3MuZW52LlJFU0VORF9GUk9NX0VNQUlMID8/IFwiXCI7XG5leHBvcnQgY29uc3QgUVJfUFJJVkFURV9LRVlfUEVNID0gcHJvY2Vzcy5lbnYuUVJfUFJJVkFURV9LRVlfUEVNO1xuZXhwb3J0IGNvbnN0IEFETUlOX1NFQ1JFVCA9IHByb2Nlc3MuZW52LkFETUlOX1NFQ1JFVCA/PyBcIlwiO1xuZXhwb3J0IGNvbnN0IFNJVEVfQkFTRV9VUkwgPVxuICBwcm9jZXNzLmVudi5TSVRFX0JBU0VfVVJMID8/IFwiaHR0cDovL2xvY2FsaG9zdDozMDAwXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBlbnN1cmVTZXJ2ZXJFbnYoKSB7XG4gIGNvbnN0IG1pc3Npbmc6IHN0cmluZ1tdID0gW107XG4gIGlmICghU1VQQUJBU0VfVVJMKSBtaXNzaW5nLnB1c2goXCJTVVBBQkFTRV9VUkxcIik7XG4gIGlmICghU1VQQUJBU0VfU0VSVklDRV9LRVkpIG1pc3NpbmcucHVzaChcIlNVUEFCQVNFX1NFUlZJQ0VfS0VZXCIpO1xuICBpZiAoIVJFU0VORF9BUElfS0VZKSBtaXNzaW5nLnB1c2goXCJSRVNFTkRfQVBJX0tFWVwiKTtcbiAgaWYgKCFSRVNFTkRfRlJPTV9FTUFJTCkgbWlzc2luZy5wdXNoKFwiUkVTRU5EX0ZST01fRU1BSUxcIik7XG5cbiAgaWYgKG1pc3NpbmcubGVuZ3RoID4gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcihgTWlzc2luZyByZXF1aXJlZCBlbnYgdmFyczogJHttaXNzaW5nLmpvaW4oXCIsIFwiKX1gKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIkNPTkZFUkVOQ0VfU0xVRyIsInByb2Nlc3MiLCJlbnYiLCJTVVBBQkFTRV9VUkwiLCJTVVBBQkFTRV9TRVJWSUNFX0tFWSIsIlJFU0VORF9BUElfS0VZIiwiUkVTRU5EX0ZST01fRU1BSUwiLCJRUl9QUklWQVRFX0tFWV9QRU0iLCJBRE1JTl9TRUNSRVQiLCJTSVRFX0JBU0VfVVJMIiwiZW5zdXJlU2VydmVyRW52IiwibWlzc2luZyIsInB1c2giLCJsZW5ndGgiLCJFcnJvciIsImpvaW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/env.ts\n");

/***/ }),

/***/ "(rsc)/./lib/fees.ts":
/*!*********************!*\
  !*** ./lib/fees.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   calculateFee: () => (/* binding */ calculateFee),\n/* harmony export */   ensureCapacity: () => (/* binding */ ensureCapacity),\n/* harmony export */   ensureRegistrationIsOpen: () => (/* binding */ ensureRegistrationIsOpen)\n/* harmony export */ });\nfunction calculateFee(conference, category) {\n    switch(category){\n        case \"member\":\n            return Number(conference.member_fee);\n        case \"non_member\":\n            return Number(conference.non_member_fee);\n        case \"student\":\n            return Number(conference.student_fee);\n        default:\n            return Number(conference.non_member_fee);\n    }\n}\nfunction ensureRegistrationIsOpen(conference) {\n    const now = new Date();\n    if (conference.registration_open && new Date(conference.registration_open) > now) {\n        throw new Error(\"Registrations are not open yet for this conference.\");\n    }\n    if (conference.registration_close && new Date(conference.registration_close) < now) {\n        throw new Error(\"Registration window has closed.\");\n    }\n}\nfunction ensureCapacity(registeredCount, conference) {\n    if (conference.max_participants && registeredCount >= conference.max_participants) {\n        throw new Error(\"Conference capacity is full.\");\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvZmVlcy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFHTyxTQUFTQSxhQUFhQyxVQUFzQixFQUFFQyxRQUE4QjtJQUNqRixPQUFRQTtRQUNOLEtBQUs7WUFDSCxPQUFPQyxPQUFPRixXQUFXRyxVQUFVO1FBQ3JDLEtBQUs7WUFDSCxPQUFPRCxPQUFPRixXQUFXSSxjQUFjO1FBQ3pDLEtBQUs7WUFDSCxPQUFPRixPQUFPRixXQUFXSyxXQUFXO1FBQ3RDO1lBQ0UsT0FBT0gsT0FBT0YsV0FBV0ksY0FBYztJQUMzQztBQUNGO0FBRU8sU0FBU0UseUJBQXlCTixVQUFzQjtJQUM3RCxNQUFNTyxNQUFNLElBQUlDO0lBRWhCLElBQUlSLFdBQVdTLGlCQUFpQixJQUFJLElBQUlELEtBQUtSLFdBQVdTLGlCQUFpQixJQUFJRixLQUFLO1FBQ2hGLE1BQU0sSUFBSUcsTUFBTTtJQUNsQjtJQUVBLElBQUlWLFdBQVdXLGtCQUFrQixJQUFJLElBQUlILEtBQUtSLFdBQVdXLGtCQUFrQixJQUFJSixLQUFLO1FBQ2xGLE1BQU0sSUFBSUcsTUFBTTtJQUNsQjtBQUNGO0FBRU8sU0FBU0UsZUFBZUMsZUFBdUIsRUFBRWIsVUFBc0I7SUFDNUUsSUFBSUEsV0FBV2MsZ0JBQWdCLElBQUlELG1CQUFtQmIsV0FBV2MsZ0JBQWdCLEVBQUU7UUFDakYsTUFBTSxJQUFJSixNQUFNO0lBQ2xCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvLi9saWIvZmVlcy50cz80YWYwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbmZlcmVuY2UgfSBmcm9tIFwiLi9zdXBhYmFzZVwiO1xuaW1wb3J0IHsgUmVnaXN0cmF0aW9uQ2F0ZWdvcnkgfSBmcm9tIFwiQHNoZm1rL3NoYXJlZFwiO1xuXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlRmVlKGNvbmZlcmVuY2U6IENvbmZlcmVuY2UsIGNhdGVnb3J5OiBSZWdpc3RyYXRpb25DYXRlZ29yeSk6IG51bWJlciB7XG4gIHN3aXRjaCAoY2F0ZWdvcnkpIHtcbiAgICBjYXNlIFwibWVtYmVyXCI6XG4gICAgICByZXR1cm4gTnVtYmVyKGNvbmZlcmVuY2UubWVtYmVyX2ZlZSk7XG4gICAgY2FzZSBcIm5vbl9tZW1iZXJcIjpcbiAgICAgIHJldHVybiBOdW1iZXIoY29uZmVyZW5jZS5ub25fbWVtYmVyX2ZlZSk7XG4gICAgY2FzZSBcInN0dWRlbnRcIjpcbiAgICAgIHJldHVybiBOdW1iZXIoY29uZmVyZW5jZS5zdHVkZW50X2ZlZSk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBOdW1iZXIoY29uZmVyZW5jZS5ub25fbWVtYmVyX2ZlZSk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVuc3VyZVJlZ2lzdHJhdGlvbklzT3Blbihjb25mZXJlbmNlOiBDb25mZXJlbmNlKSB7XG4gIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG5cbiAgaWYgKGNvbmZlcmVuY2UucmVnaXN0cmF0aW9uX29wZW4gJiYgbmV3IERhdGUoY29uZmVyZW5jZS5yZWdpc3RyYXRpb25fb3BlbikgPiBub3cpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJSZWdpc3RyYXRpb25zIGFyZSBub3Qgb3BlbiB5ZXQgZm9yIHRoaXMgY29uZmVyZW5jZS5cIik7XG4gIH1cblxuICBpZiAoY29uZmVyZW5jZS5yZWdpc3RyYXRpb25fY2xvc2UgJiYgbmV3IERhdGUoY29uZmVyZW5jZS5yZWdpc3RyYXRpb25fY2xvc2UpIDwgbm93KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiUmVnaXN0cmF0aW9uIHdpbmRvdyBoYXMgY2xvc2VkLlwiKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZW5zdXJlQ2FwYWNpdHkocmVnaXN0ZXJlZENvdW50OiBudW1iZXIsIGNvbmZlcmVuY2U6IENvbmZlcmVuY2UpIHtcbiAgaWYgKGNvbmZlcmVuY2UubWF4X3BhcnRpY2lwYW50cyAmJiByZWdpc3RlcmVkQ291bnQgPj0gY29uZmVyZW5jZS5tYXhfcGFydGljaXBhbnRzKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ29uZmVyZW5jZSBjYXBhY2l0eSBpcyBmdWxsLlwiKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbImNhbGN1bGF0ZUZlZSIsImNvbmZlcmVuY2UiLCJjYXRlZ29yeSIsIk51bWJlciIsIm1lbWJlcl9mZWUiLCJub25fbWVtYmVyX2ZlZSIsInN0dWRlbnRfZmVlIiwiZW5zdXJlUmVnaXN0cmF0aW9uSXNPcGVuIiwibm93IiwiRGF0ZSIsInJlZ2lzdHJhdGlvbl9vcGVuIiwiRXJyb3IiLCJyZWdpc3RyYXRpb25fY2xvc2UiLCJlbnN1cmVDYXBhY2l0eSIsInJlZ2lzdGVyZWRDb3VudCIsIm1heF9wYXJ0aWNpcGFudHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/fees.ts\n");

/***/ }),

/***/ "(rsc)/./lib/qr.ts":
/*!*******************!*\
  !*** ./lib/qr.ts ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createQrDataUrl: () => (/* binding */ createQrDataUrl)\n/* harmony export */ });\n/* harmony import */ var qrcode__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! qrcode */ \"(rsc)/../../.pnpm/qrcode@1.5.4/node_modules/qrcode/lib/index.js\");\n\nasync function createQrDataUrl(token) {\n    return qrcode__WEBPACK_IMPORTED_MODULE_0__.toDataURL(token, {\n        errorCorrectionLevel: \"M\",\n        margin: 2\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvcXIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBNEI7QUFFckIsZUFBZUMsZ0JBQWdCQyxLQUFhO0lBQ2pELE9BQU9GLDZDQUFnQixDQUFDRSxPQUFPO1FBQUVFLHNCQUFzQjtRQUFLQyxRQUFRO0lBQUU7QUFDeEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvLi9saWIvcXIudHM/ZmQyYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUVJDb2RlIGZyb20gXCJxcmNvZGVcIjtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVFyRGF0YVVybCh0b2tlbjogc3RyaW5nKSB7XG4gIHJldHVybiBRUkNvZGUudG9EYXRhVVJMKHRva2VuLCB7IGVycm9yQ29ycmVjdGlvbkxldmVsOiBcIk1cIiwgbWFyZ2luOiAyIH0pO1xufVxuIl0sIm5hbWVzIjpbIlFSQ29kZSIsImNyZWF0ZVFyRGF0YVVybCIsInRva2VuIiwidG9EYXRhVVJMIiwiZXJyb3JDb3JyZWN0aW9uTGV2ZWwiLCJtYXJnaW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/qr.ts\n");

/***/ }),

/***/ "(rsc)/./lib/supabase.ts":
/*!*************************!*\
  !*** ./lib/supabase.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   countRegistrations: () => (/* binding */ countRegistrations),\n/* harmony export */   createRegistration: () => (/* binding */ createRegistration),\n/* harmony export */   getConferenceById: () => (/* binding */ getConferenceById),\n/* harmony export */   getConferenceBySlug: () => (/* binding */ getConferenceBySlug),\n/* harmony export */   getRegistrationById: () => (/* binding */ getRegistrationById),\n/* harmony export */   listRegistrations: () => (/* binding */ listRegistrations),\n/* harmony export */   saveQrToken: () => (/* binding */ saveQrToken)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/../../.pnpm/@supabase+supabase-js@2.84.0/node_modules/@supabase/supabase-js/dist/module/index.js\");\n/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./env */ \"(rsc)/./lib/env.ts\");\n\n\nconst supabaseClient = _env__WEBPACK_IMPORTED_MODULE_0__.SUPABASE_URL && _env__WEBPACK_IMPORTED_MODULE_0__.SUPABASE_SERVICE_KEY ? (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_1__.createClient)(_env__WEBPACK_IMPORTED_MODULE_0__.SUPABASE_URL, _env__WEBPACK_IMPORTED_MODULE_0__.SUPABASE_SERVICE_KEY, {\n    auth: {\n        autoRefreshToken: false,\n        persistSession: false\n    }\n}) : null;\nfunction requireClient() {\n    if (!supabaseClient) {\n        throw new Error(\"Supabase client not configured. Check SUPABASE_URL and SUPABASE_SERVICE_KEY.\");\n    }\n    return supabaseClient;\n}\nasync function getConferenceBySlug(slug = _env__WEBPACK_IMPORTED_MODULE_0__.CONFERENCE_SLUG) {\n    const client = requireClient();\n    const { data, error } = await client.from(\"conferences\").select(\"*\").eq(\"slug\", slug).maybeSingle();\n    if (error) {\n        throw new Error(`Failed to load conference: ${error.message}`);\n    }\n    return data;\n}\nasync function getConferenceById(id) {\n    const client = requireClient();\n    const { data, error } = await client.from(\"conferences\").select(\"*\").eq(\"id\", id).maybeSingle();\n    if (error) {\n        throw new Error(`Failed to load conference: ${error.message}`);\n    }\n    return data;\n}\nasync function countRegistrations(conferenceId) {\n    const client = requireClient();\n    const { count, error } = await client.from(\"registrations\").select(\"*\", {\n        head: true,\n        count: \"exact\"\n    }).eq(\"conference_id\", conferenceId);\n    if (error) {\n        throw new Error(`Failed to count registrations: ${error.message}`);\n    }\n    return count ?? 0;\n}\nasync function createRegistration(params) {\n    const client = requireClient();\n    const { data, error } = await client.from(\"registrations\").insert({\n        conference_id: params.conferenceId,\n        full_name: params.fullName,\n        email: params.email,\n        phone: params.phone ?? null,\n        institution: params.institution ?? null,\n        category: params.category,\n        fee_amount: params.feeAmount,\n        currency: params.currency\n    }).select(\"*\").maybeSingle();\n    if (error || !data) {\n        throw new Error(`Failed to create registration: ${error?.message ?? \"unknown error\"}`);\n    }\n    return data;\n}\nasync function saveQrToken(registrationId, token) {\n    const client = requireClient();\n    const { error } = await client.from(\"registrations\").update({\n        qr_token: token\n    }).eq(\"id\", registrationId);\n    if (error) {\n        throw new Error(`Failed to save QR token: ${error.message}`);\n    }\n}\nasync function listRegistrations(params) {\n    const client = requireClient();\n    let query = client.from(\"registrations\").select(\"*\").eq(\"conference_id\", params.conferenceId).order(\"created_at\", {\n        ascending: false\n    });\n    if (params.search) {\n        const term = params.search;\n        query = query.or(`full_name.ilike.%${term}%,email.ilike.%${term}%`);\n    }\n    if (params.limit) {\n        query = query.limit(params.limit);\n    }\n    const { data, error } = await query;\n    if (error) {\n        throw new Error(`Failed to list registrations: ${error.message}`);\n    }\n    return data ?? [];\n}\nasync function getRegistrationById(id) {\n    const client = requireClient();\n    const { data, error } = await client.from(\"registrations\").select(\"*\").eq(\"id\", id).maybeSingle();\n    if (error) {\n        throw new Error(`Failed to load registration: ${error.message}`);\n    }\n    return data;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Y2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tIFwiQHN1cGFiYXNlL3N1cGFiYXNlLWpzXCI7XG5pbXBvcnQgeyBDT05GRVJFTkNFX1NMVUcsIFNVUEFCQVNFX1NFUlZJQ0VfS0VZLCBTVVBBQkFTRV9VUkwgfSBmcm9tIFwiLi9lbnZcIjtcbmltcG9ydCB7IFJlZ2lzdHJhdGlvbkNhdGVnb3J5IH0gZnJvbSBcIkBzaGZtay9zaGFyZWRcIjtcblxuZXhwb3J0IGludGVyZmFjZSBDb25mZXJlbmNlIHtcbiAgaWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBzbHVnOiBzdHJpbmc7XG4gIHN0YXJ0X2RhdGU6IHN0cmluZyB8IG51bGw7XG4gIGVuZF9kYXRlOiBzdHJpbmcgfCBudWxsO1xuICBsb2NhdGlvbjogc3RyaW5nIHwgbnVsbDtcbiAgcmVnaXN0cmF0aW9uX29wZW46IHN0cmluZyB8IG51bGw7XG4gIHJlZ2lzdHJhdGlvbl9jbG9zZTogc3RyaW5nIHwgbnVsbDtcbiAgbWF4X3BhcnRpY2lwYW50czogbnVtYmVyIHwgbnVsbDtcbiAgY3VycmVuY3k6IHN0cmluZztcbiAgbWVtYmVyX2ZlZTogbnVtYmVyO1xuICBub25fbWVtYmVyX2ZlZTogbnVtYmVyO1xuICBzdHVkZW50X2ZlZTogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJlZ2lzdHJhdGlvblJvdyB7XG4gIGlkOiBzdHJpbmc7XG4gIGNvbmZlcmVuY2VfaWQ6IHN0cmluZztcbiAgZnVsbF9uYW1lOiBzdHJpbmc7XG4gIGVtYWlsOiBzdHJpbmc7XG4gIHBob25lOiBzdHJpbmcgfCBudWxsO1xuICBpbnN0aXR1dGlvbjogc3RyaW5nIHwgbnVsbDtcbiAgY2F0ZWdvcnk6IFJlZ2lzdHJhdGlvbkNhdGVnb3J5O1xuICBmZWVfYW1vdW50OiBudW1iZXI7XG4gIGN1cnJlbmN5OiBzdHJpbmc7XG4gIHBheW1lbnRfc3RhdHVzOiBzdHJpbmc7XG4gIGNoZWNrZWRfaW5fYXQ6IHN0cmluZyB8IG51bGw7XG4gIHFyX3Rva2VuOiBzdHJpbmcgfCBudWxsO1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG59XG5cbmNvbnN0IHN1cGFiYXNlQ2xpZW50ID1cbiAgU1VQQUJBU0VfVVJMICYmIFNVUEFCQVNFX1NFUlZJQ0VfS0VZXG4gICAgPyBjcmVhdGVDbGllbnQoU1VQQUJBU0VfVVJMLCBTVVBBQkFTRV9TRVJWSUNFX0tFWSwge1xuICAgICAgICBhdXRoOiB7IGF1dG9SZWZyZXNoVG9rZW46IGZhbHNlLCBwZXJzaXN0U2Vzc2lvbjogZmFsc2UgfVxuICAgICAgfSlcbiAgICA6IG51bGw7XG5cbmZ1bmN0aW9uIHJlcXVpcmVDbGllbnQoKSB7XG4gIGlmICghc3VwYWJhc2VDbGllbnQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJTdXBhYmFzZSBjbGllbnQgbm90IGNvbmZpZ3VyZWQuIENoZWNrIFNVUEFCQVNFX1VSTCBhbmQgU1VQQUJBU0VfU0VSVklDRV9LRVkuXCIpO1xuICB9XG4gIHJldHVybiBzdXBhYmFzZUNsaWVudDtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldENvbmZlcmVuY2VCeVNsdWcoc2x1Zzogc3RyaW5nID0gQ09ORkVSRU5DRV9TTFVHKTogUHJvbWlzZTxDb25mZXJlbmNlIHwgbnVsbD4ge1xuICBjb25zdCBjbGllbnQgPSByZXF1aXJlQ2xpZW50KCk7XG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IGNsaWVudFxuICAgIC5mcm9tKFwiY29uZmVyZW5jZXNcIilcbiAgICAuc2VsZWN0KFwiKlwiKVxuICAgIC5lcShcInNsdWdcIiwgc2x1ZylcbiAgICAubWF5YmVTaW5nbGUoKTtcblxuICBpZiAoZXJyb3IpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBsb2FkIGNvbmZlcmVuY2U6ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgfVxuXG4gIHJldHVybiBkYXRhIGFzIENvbmZlcmVuY2UgfCBudWxsO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Q29uZmVyZW5jZUJ5SWQoaWQ6IHN0cmluZyk6IFByb21pc2U8Q29uZmVyZW5jZSB8IG51bGw+IHtcbiAgY29uc3QgY2xpZW50ID0gcmVxdWlyZUNsaWVudCgpO1xuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBjbGllbnQuZnJvbShcImNvbmZlcmVuY2VzXCIpLnNlbGVjdChcIipcIikuZXEoXCJpZFwiLCBpZCkubWF5YmVTaW5nbGUoKTtcbiAgaWYgKGVycm9yKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gbG9hZCBjb25mZXJlbmNlOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gIH1cbiAgcmV0dXJuIGRhdGEgYXMgQ29uZmVyZW5jZSB8IG51bGw7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb3VudFJlZ2lzdHJhdGlvbnMoY29uZmVyZW5jZUlkOiBzdHJpbmcpOiBQcm9taXNlPG51bWJlcj4ge1xuICBjb25zdCBjbGllbnQgPSByZXF1aXJlQ2xpZW50KCk7XG4gIGNvbnN0IHsgY291bnQsIGVycm9yIH0gPSBhd2FpdCBjbGllbnRcbiAgICAuZnJvbShcInJlZ2lzdHJhdGlvbnNcIilcbiAgICAuc2VsZWN0KFwiKlwiLCB7IGhlYWQ6IHRydWUsIGNvdW50OiBcImV4YWN0XCIgfSlcbiAgICAuZXEoXCJjb25mZXJlbmNlX2lkXCIsIGNvbmZlcmVuY2VJZCk7XG5cbiAgaWYgKGVycm9yKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gY291bnQgcmVnaXN0cmF0aW9uczogJHtlcnJvci5tZXNzYWdlfWApO1xuICB9XG5cbiAgcmV0dXJuIGNvdW50ID8/IDA7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVSZWdpc3RyYXRpb24ocGFyYW1zOiB7XG4gIGNvbmZlcmVuY2VJZDogc3RyaW5nO1xuICBmdWxsTmFtZTogc3RyaW5nO1xuICBlbWFpbDogc3RyaW5nO1xuICBwaG9uZT86IHN0cmluZztcbiAgaW5zdGl0dXRpb24/OiBzdHJpbmc7XG4gIGNhdGVnb3J5OiBSZWdpc3RyYXRpb25DYXRlZ29yeTtcbiAgZmVlQW1vdW50OiBudW1iZXI7XG4gIGN1cnJlbmN5OiBzdHJpbmc7XG59KTogUHJvbWlzZTxSZWdpc3RyYXRpb25Sb3c+IHtcbiAgY29uc3QgY2xpZW50ID0gcmVxdWlyZUNsaWVudCgpO1xuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBjbGllbnRcbiAgICAuZnJvbShcInJlZ2lzdHJhdGlvbnNcIilcbiAgICAuaW5zZXJ0KHtcbiAgICAgIGNvbmZlcmVuY2VfaWQ6IHBhcmFtcy5jb25mZXJlbmNlSWQsXG4gICAgICBmdWxsX25hbWU6IHBhcmFtcy5mdWxsTmFtZSxcbiAgICAgIGVtYWlsOiBwYXJhbXMuZW1haWwsXG4gICAgICBwaG9uZTogcGFyYW1zLnBob25lID8/IG51bGwsXG4gICAgICBpbnN0aXR1dGlvbjogcGFyYW1zLmluc3RpdHV0aW9uID8/IG51bGwsXG4gICAgICBjYXRlZ29yeTogcGFyYW1zLmNhdGVnb3J5LFxuICAgICAgZmVlX2Ftb3VudDogcGFyYW1zLmZlZUFtb3VudCxcbiAgICAgIGN1cnJlbmN5OiBwYXJhbXMuY3VycmVuY3lcbiAgICB9KVxuICAgIC5zZWxlY3QoXCIqXCIpXG4gICAgLm1heWJlU2luZ2xlKCk7XG5cbiAgaWYgKGVycm9yIHx8ICFkYXRhKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gY3JlYXRlIHJlZ2lzdHJhdGlvbjogJHtlcnJvcj8ubWVzc2FnZSA/PyBcInVua25vd24gZXJyb3JcIn1gKTtcbiAgfVxuXG4gIHJldHVybiBkYXRhIGFzIFJlZ2lzdHJhdGlvblJvdztcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNhdmVRclRva2VuKHJlZ2lzdHJhdGlvbklkOiBzdHJpbmcsIHRva2VuOiBzdHJpbmcpIHtcbiAgY29uc3QgY2xpZW50ID0gcmVxdWlyZUNsaWVudCgpO1xuICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBjbGllbnRcbiAgICAuZnJvbShcInJlZ2lzdHJhdGlvbnNcIilcbiAgICAudXBkYXRlKHsgcXJfdG9rZW46IHRva2VuIH0pXG4gICAgLmVxKFwiaWRcIiwgcmVnaXN0cmF0aW9uSWQpO1xuXG4gIGlmIChlcnJvcikge1xuICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHNhdmUgUVIgdG9rZW46ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbGlzdFJlZ2lzdHJhdGlvbnMocGFyYW1zOiB7XG4gIGNvbmZlcmVuY2VJZDogc3RyaW5nO1xuICBzZWFyY2g/OiBzdHJpbmc7XG4gIGxpbWl0PzogbnVtYmVyO1xufSk6IFByb21pc2U8UmVnaXN0cmF0aW9uUm93W10+IHtcbiAgY29uc3QgY2xpZW50ID0gcmVxdWlyZUNsaWVudCgpO1xuICBsZXQgcXVlcnkgPSBjbGllbnRcbiAgICAuZnJvbShcInJlZ2lzdHJhdGlvbnNcIilcbiAgICAuc2VsZWN0KFwiKlwiKVxuICAgIC5lcShcImNvbmZlcmVuY2VfaWRcIiwgcGFyYW1zLmNvbmZlcmVuY2VJZClcbiAgICAub3JkZXIoXCJjcmVhdGVkX2F0XCIsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcblxuICBpZiAocGFyYW1zLnNlYXJjaCkge1xuICAgIGNvbnN0IHRlcm0gPSBwYXJhbXMuc2VhcmNoO1xuICAgIHF1ZXJ5ID0gcXVlcnkub3IoXG4gICAgICBgZnVsbF9uYW1lLmlsaWtlLiUke3Rlcm19JSxlbWFpbC5pbGlrZS4lJHt0ZXJtfSVgXG4gICAgKTtcbiAgfVxuXG4gIGlmIChwYXJhbXMubGltaXQpIHtcbiAgICBxdWVyeSA9IHF1ZXJ5LmxpbWl0KHBhcmFtcy5saW1pdCk7XG4gIH1cblxuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBxdWVyeTtcbiAgaWYgKGVycm9yKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gbGlzdCByZWdpc3RyYXRpb25zOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gIH1cbiAgcmV0dXJuIChkYXRhIGFzIFJlZ2lzdHJhdGlvblJvd1tdKSA/PyBbXTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFJlZ2lzdHJhdGlvbkJ5SWQoaWQ6IHN0cmluZyk6IFByb21pc2U8UmVnaXN0cmF0aW9uUm93IHwgbnVsbD4ge1xuICBjb25zdCBjbGllbnQgPSByZXF1aXJlQ2xpZW50KCk7XG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IGNsaWVudC5mcm9tKFwicmVnaXN0cmF0aW9uc1wiKS5zZWxlY3QoXCIqXCIpLmVxKFwiaWRcIiwgaWQpLm1heWJlU2luZ2xlKCk7XG4gIGlmIChlcnJvcikge1xuICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGxvYWQgcmVnaXN0cmF0aW9uOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gIH1cbiAgcmV0dXJuIGRhdGEgYXMgUmVnaXN0cmF0aW9uUm93IHwgbnVsbDtcbn1cbiJdLCJuYW1lcyI6WyJjcmVhdGVDbGllbnQiLCJDT05GRVJFTkNFX1NMVUciLCJTVVBBQkFTRV9TRVJWSUNFX0tFWSIsIlNVUEFCQVNFX1VSTCIsInN1cGFiYXNlQ2xpZW50IiwiYXV0aCIsImF1dG9SZWZyZXNoVG9rZW4iLCJwZXJzaXN0U2Vzc2lvbiIsInJlcXVpcmVDbGllbnQiLCJFcnJvciIsImdldENvbmZlcmVuY2VCeVNsdWciLCJzbHVnIiwiY2xpZW50IiwiZGF0YSIsImVycm9yIiwiZnJvbSIsInNlbGVjdCIsImVxIiwibWF5YmVTaW5nbGUiLCJtZXNzYWdlIiwiZ2V0Q29uZmVyZW5jZUJ5SWQiLCJpZCIsImNvdW50UmVnaXN0cmF0aW9ucyIsImNvbmZlcmVuY2VJZCIsImNvdW50IiwiaGVhZCIsImNyZWF0ZVJlZ2lzdHJhdGlvbiIsInBhcmFtcyIsImluc2VydCIsImNvbmZlcmVuY2VfaWQiLCJmdWxsX25hbWUiLCJmdWxsTmFtZSIsImVtYWlsIiwicGhvbmUiLCJpbnN0aXR1dGlvbiIsImNhdGVnb3J5IiwiZmVlX2Ftb3VudCIsImZlZUFtb3VudCIsImN1cnJlbmN5Iiwic2F2ZVFyVG9rZW4iLCJyZWdpc3RyYXRpb25JZCIsInRva2VuIiwidXBkYXRlIiwicXJfdG9rZW4iLCJsaXN0UmVnaXN0cmF0aW9ucyIsInF1ZXJ5Iiwib3JkZXIiLCJhc2NlbmRpbmciLCJzZWFyY2giLCJ0ZXJtIiwib3IiLCJsaW1pdCIsImdldFJlZ2lzdHJhdGlvbkJ5SWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/supabase.ts\n");

/***/ }),

/***/ "(rsc)/../../packages/shared/src/index.ts":
/*!******************************************!*\
  !*** ../../packages/shared/src/index.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generateInMemoryKeyPair: () => (/* reexport safe */ _jwt__WEBPACK_IMPORTED_MODULE_0__.generateInMemoryKeyPair),\n/* harmony export */   loadPrivateKey: () => (/* reexport safe */ _jwt__WEBPACK_IMPORTED_MODULE_0__.loadPrivateKey),\n/* harmony export */   loadPublicKey: () => (/* reexport safe */ _jwt__WEBPACK_IMPORTED_MODULE_0__.loadPublicKey),\n/* harmony export */   signRegistrationToken: () => (/* reexport safe */ _jwt__WEBPACK_IMPORTED_MODULE_0__.signRegistrationToken),\n/* harmony export */   verifyRegistrationToken: () => (/* reexport safe */ _jwt__WEBPACK_IMPORTED_MODULE_0__.verifyRegistrationToken)\n/* harmony export */ });\n/* harmony import */ var _jwt__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./jwt */ \"(rsc)/../../packages/shared/src/jwt.ts\");\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvc2hhcmVkL3NyYy9pbmRleC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBc0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvLi4vLi4vcGFja2FnZXMvc2hhcmVkL3NyYy9pbmRleC50cz84NjZhIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCAqIGZyb20gXCIuL2p3dFwiO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../packages/shared/src/index.ts\n");

/***/ }),

/***/ "(rsc)/../../packages/shared/src/jwt.ts":
/*!****************************************!*\
  !*** ../../packages/shared/src/jwt.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generateInMemoryKeyPair: () => (/* binding */ generateInMemoryKeyPair),\n/* harmony export */   loadPrivateKey: () => (/* binding */ loadPrivateKey),\n/* harmony export */   loadPublicKey: () => (/* binding */ loadPublicKey),\n/* harmony export */   signRegistrationToken: () => (/* binding */ signRegistrationToken),\n/* harmony export */   verifyRegistrationToken: () => (/* binding */ verifyRegistrationToken)\n/* harmony export */ });\n/* harmony import */ var jose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jose */ \"(rsc)/../../.pnpm/jose@5.10.0/node_modules/jose/dist/node/esm/jwt/sign.js\");\n/* harmony import */ var jose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jose */ \"(rsc)/../../.pnpm/jose@5.10.0/node_modules/jose/dist/node/esm/jwt/verify.js\");\n/* harmony import */ var jose__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jose */ \"(rsc)/../../.pnpm/jose@5.10.0/node_modules/jose/dist/node/esm/key/import.js\");\n/* harmony import */ var jose__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jose */ \"(rsc)/../../.pnpm/jose@5.10.0/node_modules/jose/dist/node/esm/key/generate_key_pair.js\");\n/* harmony import */ var jose__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jose */ \"(rsc)/../../.pnpm/jose@5.10.0/node_modules/jose/dist/node/esm/key/export.js\");\n\nasync function signRegistrationToken(payload, privateKeyPem) {\n    const { key, generated, publicKeyPem } = await loadPrivateKey(privateKeyPem);\n    const issuedAt = payload.iat ?? Math.floor(Date.now() / 1000);\n    const token = await new jose__WEBPACK_IMPORTED_MODULE_0__.SignJWT({\n        name: payload.name,\n        cat: payload.cat,\n        conf: payload.conf,\n        fee: payload.fee,\n        cur: payload.cur\n    }).setProtectedHeader({\n        alg: \"RS256\"\n    }).setSubject(payload.sub).setIssuedAt(issuedAt).sign(key);\n    return {\n        token,\n        generated,\n        publicKeyPem\n    };\n}\nasync function verifyRegistrationToken(token, publicKeyPem) {\n    const { key } = await loadPublicKey(publicKeyPem);\n    const { payload } = await (0,jose__WEBPACK_IMPORTED_MODULE_1__.jwtVerify)(token, key, {\n        algorithms: [\n            \"RS256\"\n        ]\n    });\n    return {\n        sub: payload.sub ?? \"\",\n        name: payload.name,\n        cat: payload.cat,\n        conf: payload.conf,\n        fee: Number(payload.fee),\n        cur: payload.cur,\n        iat: payload.iat\n    };\n}\nasync function loadPrivateKey(privateKeyPem) {\n    if (privateKeyPem) {\n        const key = await (0,jose__WEBPACK_IMPORTED_MODULE_2__.importPKCS8)(privateKeyPem, \"RS256\");\n        return {\n            key,\n            generated: false\n        };\n    }\n    const generatedPair = await generateInMemoryKeyPair();\n    return {\n        key: generatedPair.privateKey,\n        generated: true,\n        privateKeyPem: generatedPair.privateKeyPem,\n        publicKeyPem: generatedPair.publicKeyPem\n    };\n}\nasync function loadPublicKey(publicKeyPem) {\n    const key = await (0,jose__WEBPACK_IMPORTED_MODULE_2__.importSPKI)(publicKeyPem, \"RS256\");\n    return {\n        key,\n        generated: false,\n        publicKeyPem\n    };\n}\nasync function generateInMemoryKeyPair() {\n    const { privateKey, publicKey } = await (0,jose__WEBPACK_IMPORTED_MODULE_3__.generateKeyPair)(\"RS256\");\n    const privateKeyPem = await (0,jose__WEBPACK_IMPORTED_MODULE_4__.exportPKCS8)(privateKey);\n    const publicKeyPem = await (0,jose__WEBPACK_IMPORTED_MODULE_4__.exportSPKI)(publicKey);\n    return {\n        privateKey,\n        publicKey,\n        privateKeyPem,\n        publicKeyPem\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvc2hhcmVkL3NyYy9qd3QudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQVNjO0FBMkJQLGVBQWVPLHNCQUNwQkMsT0FBaUMsRUFDakNDLGFBQXNCO0lBRXRCLE1BQU0sRUFBRUMsR0FBRyxFQUFFQyxTQUFTLEVBQUVDLFlBQVksRUFBRSxHQUFHLE1BQU1DLGVBQWVKO0lBQzlELE1BQU1LLFdBQVdOLFFBQVFPLEdBQUcsSUFBSUMsS0FBS0MsS0FBSyxDQUFDQyxLQUFLQyxHQUFHLEtBQUs7SUFFeEQsTUFBTUMsUUFBUSxNQUFNLElBQUlkLHlDQUFPQSxDQUFDO1FBQzlCZSxNQUFNYixRQUFRYSxJQUFJO1FBQ2xCQyxLQUFLZCxRQUFRYyxHQUFHO1FBQ2hCQyxNQUFNZixRQUFRZSxJQUFJO1FBQ2xCQyxLQUFLaEIsUUFBUWdCLEdBQUc7UUFDaEJDLEtBQUtqQixRQUFRaUIsR0FBRztJQUNsQixHQUNHQyxrQkFBa0IsQ0FBQztRQUFFQyxLQUFLO0lBQVEsR0FDbENDLFVBQVUsQ0FBQ3BCLFFBQVFxQixHQUFHLEVBQ3RCQyxXQUFXLENBQUNoQixVQUNaaUIsSUFBSSxDQUFDckI7SUFFUixPQUFPO1FBQUVVO1FBQU9UO1FBQVdDO0lBQWE7QUFDMUM7QUFFTyxlQUFlb0Isd0JBQ3BCWixLQUFhLEVBQ2JSLFlBQW9CO0lBRXBCLE1BQU0sRUFBRUYsR0FBRyxFQUFFLEdBQUcsTUFBTXVCLGNBQWNyQjtJQUNwQyxNQUFNLEVBQUVKLE9BQU8sRUFBRSxHQUFHLE1BQU1ILCtDQUFTQSxDQUFDZSxPQUFPVixLQUFjO1FBQ3ZEd0IsWUFBWTtZQUFDO1NBQVE7SUFDdkI7SUFFQSxPQUFPO1FBQ0xMLEtBQUtyQixRQUFRcUIsR0FBRyxJQUFJO1FBQ3BCUixNQUFNYixRQUFRYSxJQUFJO1FBQ2xCQyxLQUFLZCxRQUFRYyxHQUFHO1FBQ2hCQyxNQUFNZixRQUFRZSxJQUFJO1FBQ2xCQyxLQUFLVyxPQUFPM0IsUUFBUWdCLEdBQUc7UUFDdkJDLEtBQUtqQixRQUFRaUIsR0FBRztRQUNoQlYsS0FBS1AsUUFBUU8sR0FBRztJQUNsQjtBQUNGO0FBRU8sZUFBZUYsZUFBZUosYUFBc0I7SUFDekQsSUFBSUEsZUFBZTtRQUNqQixNQUFNQyxNQUFNLE1BQU1QLGlEQUFXQSxDQUFDTSxlQUFlO1FBQzdDLE9BQU87WUFBRUM7WUFBS0MsV0FBVztRQUFNO0lBQ2pDO0lBRUEsTUFBTXlCLGdCQUFnQixNQUFNQztJQUM1QixPQUFPO1FBQ0wzQixLQUFLMEIsY0FBY0UsVUFBVTtRQUM3QjNCLFdBQVc7UUFDWEYsZUFBZTJCLGNBQWMzQixhQUFhO1FBQzFDRyxjQUFjd0IsY0FBY3hCLFlBQVk7SUFDMUM7QUFDRjtBQUVPLGVBQWVxQixjQUFjckIsWUFBb0I7SUFDdEQsTUFBTUYsTUFBTSxNQUFNTixnREFBVUEsQ0FBQ1EsY0FBYztJQUMzQyxPQUFPO1FBQUVGO1FBQUtDLFdBQVc7UUFBT0M7SUFBYTtBQUMvQztBQUVPLGVBQWV5QjtJQU1wQixNQUFNLEVBQUVDLFVBQVUsRUFBRUMsU0FBUyxFQUFFLEdBQUcsTUFBTXJDLHFEQUFlQSxDQUFDO0lBQ3hELE1BQU1PLGdCQUFnQixNQUFNVCxpREFBV0EsQ0FBQ3NDO0lBQ3hDLE1BQU0xQixlQUFlLE1BQU1YLGdEQUFVQSxDQUFDc0M7SUFFdEMsT0FBTztRQUFFRDtRQUFZQztRQUFXOUI7UUFBZUc7SUFBYTtBQUM5RCIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi8uLi8uLi9wYWNrYWdlcy9zaGFyZWQvc3JjL2p3dC50cz82ZWY0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGV4cG9ydFBLQ1M4LFxuICBleHBvcnRTUEtJLFxuICBnZW5lcmF0ZUtleVBhaXIsXG4gIGltcG9ydFBLQ1M4LFxuICBpbXBvcnRTUEtJLFxuICBqd3RWZXJpZnksXG4gIFNpZ25KV1QsXG4gIHR5cGUgS2V5TGlrZVxufSBmcm9tIFwiam9zZVwiO1xuXG5leHBvcnQgdHlwZSBSZWdpc3RyYXRpb25DYXRlZ29yeSA9IFwibWVtYmVyXCIgfCBcIm5vbl9tZW1iZXJcIiB8IFwic3R1ZGVudFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFJlZ2lzdHJhdGlvblRva2VuUGF5bG9hZCB7XG4gIHN1Yjogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIGNhdDogUmVnaXN0cmF0aW9uQ2F0ZWdvcnk7XG4gIGNvbmY6IHN0cmluZztcbiAgZmVlOiBudW1iZXI7XG4gIGN1cjogc3RyaW5nO1xuICBpYXQ/OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTG9hZGVkUHJpdmF0ZUtleSB7XG4gIGtleTogdW5rbm93bjtcbiAgZ2VuZXJhdGVkOiBib29sZWFuO1xuICBwcml2YXRlS2V5UGVtPzogc3RyaW5nO1xuICBwdWJsaWNLZXlQZW0/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTG9hZGVkUHVibGljS2V5IHtcbiAga2V5OiB1bmtub3duO1xuICBnZW5lcmF0ZWQ6IGJvb2xlYW47XG4gIHB1YmxpY0tleVBlbT86IHN0cmluZztcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNpZ25SZWdpc3RyYXRpb25Ub2tlbihcbiAgcGF5bG9hZDogUmVnaXN0cmF0aW9uVG9rZW5QYXlsb2FkLFxuICBwcml2YXRlS2V5UGVtPzogc3RyaW5nXG4pOiBQcm9taXNlPHsgdG9rZW46IHN0cmluZzsgZ2VuZXJhdGVkOiBib29sZWFuOyBwdWJsaWNLZXlQZW0/OiBzdHJpbmcgfT4ge1xuICBjb25zdCB7IGtleSwgZ2VuZXJhdGVkLCBwdWJsaWNLZXlQZW0gfSA9IGF3YWl0IGxvYWRQcml2YXRlS2V5KHByaXZhdGVLZXlQZW0pO1xuICBjb25zdCBpc3N1ZWRBdCA9IHBheWxvYWQuaWF0ID8/IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApO1xuXG4gIGNvbnN0IHRva2VuID0gYXdhaXQgbmV3IFNpZ25KV1Qoe1xuICAgIG5hbWU6IHBheWxvYWQubmFtZSxcbiAgICBjYXQ6IHBheWxvYWQuY2F0LFxuICAgIGNvbmY6IHBheWxvYWQuY29uZixcbiAgICBmZWU6IHBheWxvYWQuZmVlLFxuICAgIGN1cjogcGF5bG9hZC5jdXJcbiAgfSlcbiAgICAuc2V0UHJvdGVjdGVkSGVhZGVyKHsgYWxnOiBcIlJTMjU2XCIgfSlcbiAgICAuc2V0U3ViamVjdChwYXlsb2FkLnN1YilcbiAgICAuc2V0SXNzdWVkQXQoaXNzdWVkQXQpXG4gICAgLnNpZ24oa2V5IGFzIG5ldmVyKTtcblxuICByZXR1cm4geyB0b2tlbiwgZ2VuZXJhdGVkLCBwdWJsaWNLZXlQZW0gfTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHZlcmlmeVJlZ2lzdHJhdGlvblRva2VuKFxuICB0b2tlbjogc3RyaW5nLFxuICBwdWJsaWNLZXlQZW06IHN0cmluZ1xuKTogUHJvbWlzZTxSZWdpc3RyYXRpb25Ub2tlblBheWxvYWQ+IHtcbiAgY29uc3QgeyBrZXkgfSA9IGF3YWl0IGxvYWRQdWJsaWNLZXkocHVibGljS2V5UGVtKTtcbiAgY29uc3QgeyBwYXlsb2FkIH0gPSBhd2FpdCBqd3RWZXJpZnkodG9rZW4sIGtleSBhcyBuZXZlciwge1xuICAgIGFsZ29yaXRobXM6IFtcIlJTMjU2XCJdXG4gIH0pO1xuXG4gIHJldHVybiB7XG4gICAgc3ViOiBwYXlsb2FkLnN1YiA/PyBcIlwiLFxuICAgIG5hbWU6IHBheWxvYWQubmFtZSBhcyBzdHJpbmcsXG4gICAgY2F0OiBwYXlsb2FkLmNhdCBhcyBSZWdpc3RyYXRpb25DYXRlZ29yeSxcbiAgICBjb25mOiBwYXlsb2FkLmNvbmYgYXMgc3RyaW5nLFxuICAgIGZlZTogTnVtYmVyKHBheWxvYWQuZmVlKSxcbiAgICBjdXI6IHBheWxvYWQuY3VyIGFzIHN0cmluZyxcbiAgICBpYXQ6IHBheWxvYWQuaWF0XG4gIH07XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2FkUHJpdmF0ZUtleShwcml2YXRlS2V5UGVtPzogc3RyaW5nKTogUHJvbWlzZTxMb2FkZWRQcml2YXRlS2V5PiB7XG4gIGlmIChwcml2YXRlS2V5UGVtKSB7XG4gICAgY29uc3Qga2V5ID0gYXdhaXQgaW1wb3J0UEtDUzgocHJpdmF0ZUtleVBlbSwgXCJSUzI1NlwiKTtcbiAgICByZXR1cm4geyBrZXksIGdlbmVyYXRlZDogZmFsc2UgfTtcbiAgfVxuXG4gIGNvbnN0IGdlbmVyYXRlZFBhaXIgPSBhd2FpdCBnZW5lcmF0ZUluTWVtb3J5S2V5UGFpcigpO1xuICByZXR1cm4ge1xuICAgIGtleTogZ2VuZXJhdGVkUGFpci5wcml2YXRlS2V5LFxuICAgIGdlbmVyYXRlZDogdHJ1ZSxcbiAgICBwcml2YXRlS2V5UGVtOiBnZW5lcmF0ZWRQYWlyLnByaXZhdGVLZXlQZW0sXG4gICAgcHVibGljS2V5UGVtOiBnZW5lcmF0ZWRQYWlyLnB1YmxpY0tleVBlbVxuICB9O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9hZFB1YmxpY0tleShwdWJsaWNLZXlQZW06IHN0cmluZyk6IFByb21pc2U8TG9hZGVkUHVibGljS2V5PiB7XG4gIGNvbnN0IGtleSA9IGF3YWl0IGltcG9ydFNQS0kocHVibGljS2V5UGVtLCBcIlJTMjU2XCIpO1xuICByZXR1cm4geyBrZXksIGdlbmVyYXRlZDogZmFsc2UsIHB1YmxpY0tleVBlbSB9O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2VuZXJhdGVJbk1lbW9yeUtleVBhaXIoKTogUHJvbWlzZTx7XG4gIHByaXZhdGVLZXk6IEtleUxpa2U7XG4gIHB1YmxpY0tleTogS2V5TGlrZTtcbiAgcHJpdmF0ZUtleVBlbTogc3RyaW5nO1xuICBwdWJsaWNLZXlQZW06IHN0cmluZztcbn0+IHtcbiAgY29uc3QgeyBwcml2YXRlS2V5LCBwdWJsaWNLZXkgfSA9IGF3YWl0IGdlbmVyYXRlS2V5UGFpcihcIlJTMjU2XCIpO1xuICBjb25zdCBwcml2YXRlS2V5UGVtID0gYXdhaXQgZXhwb3J0UEtDUzgocHJpdmF0ZUtleSk7XG4gIGNvbnN0IHB1YmxpY0tleVBlbSA9IGF3YWl0IGV4cG9ydFNQS0kocHVibGljS2V5KTtcblxuICByZXR1cm4geyBwcml2YXRlS2V5LCBwdWJsaWNLZXksIHByaXZhdGVLZXlQZW0sIHB1YmxpY0tleVBlbSB9O1xufVxuIl0sIm5hbWVzIjpbImV4cG9ydFBLQ1M4IiwiZXhwb3J0U1BLSSIsImdlbmVyYXRlS2V5UGFpciIsImltcG9ydFBLQ1M4IiwiaW1wb3J0U1BLSSIsImp3dFZlcmlmeSIsIlNpZ25KV1QiLCJzaWduUmVnaXN0cmF0aW9uVG9rZW4iLCJwYXlsb2FkIiwicHJpdmF0ZUtleVBlbSIsImtleSIsImdlbmVyYXRlZCIsInB1YmxpY0tleVBlbSIsImxvYWRQcml2YXRlS2V5IiwiaXNzdWVkQXQiLCJpYXQiLCJNYXRoIiwiZmxvb3IiLCJEYXRlIiwibm93IiwidG9rZW4iLCJuYW1lIiwiY2F0IiwiY29uZiIsImZlZSIsImN1ciIsInNldFByb3RlY3RlZEhlYWRlciIsImFsZyIsInNldFN1YmplY3QiLCJzdWIiLCJzZXRJc3N1ZWRBdCIsInNpZ24iLCJ2ZXJpZnlSZWdpc3RyYXRpb25Ub2tlbiIsImxvYWRQdWJsaWNLZXkiLCJhbGdvcml0aG1zIiwiTnVtYmVyIiwiZ2VuZXJhdGVkUGFpciIsImdlbmVyYXRlSW5NZW1vcnlLZXlQYWlyIiwicHJpdmF0ZUtleSIsInB1YmxpY0tleSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../packages/shared/src/jwt.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase","vendor-chunks/jose","vendor-chunks/qrcode","vendor-chunks/pngjs","vendor-chunks/zod","vendor-chunks/tslib","vendor-chunks/resend","vendor-chunks/dijkstrajs"], () => (__webpack_exec__("(rsc)/../../.pnpm/next@14.2.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fregister%2Froute&page=%2Fapi%2Fregister%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fregister%2Froute.ts&appDir=%2FUsers%2Farbenlila%2Fdevelopment%2Fshfmk-association%2Fapps%2Fweb%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Farbenlila%2Fdevelopment%2Fshfmk-association%2Fapps%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();